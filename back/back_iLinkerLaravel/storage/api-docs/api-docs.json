{
    "openapi": "3.0.0",
    "info": {
        "title": "API iLinker",
        "description": "Documentación de la API iLinker",
        "contact": {
            "email": "soporte@ilinker.com"
        },
        "version": "1.0.0"
    },
    "paths": {
        "/api/empresas": {
            "get": {
                "tags": [
                    "ADMIN"
                ],
                "summary": "Ruta protegida",
                "description": "Retorna un listado paginado de empresas, incluyendo su usuario asociado, sectores y número de ofertas publicadas.",
                "operationId": "getEmpresas",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Número de página para la paginación.",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listado paginado de empresas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Tech Corp"
                                                            },
                                                            "user": {
                                                                "properties": {
                                                                    "id": {
                                                                        "type": "integer",
                                                                        "example": 10
                                                                    },
                                                                    "name": {
                                                                        "type": "string",
                                                                        "example": "Carlos Sánchez"
                                                                    },
                                                                    "email": {
                                                                        "type": "string",
                                                                        "format": "email",
                                                                        "example": "carlos@techcorp.com"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "sectors": {
                                                                "type": "array",
                                                                "items": {
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "integer",
                                                                            "example": 2
                                                                        },
                                                                        "name": {
                                                                            "type": "string",
                                                                            "example": "Tecnología"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            },
                                                            "offers_count": {
                                                                "type": "integer",
                                                                "example": 5
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "2024-06-01T12:00:00Z"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "last_page": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "total": {
                                                    "type": "integer",
                                                    "example": 25
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error interno del servidor: Error message"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/empresas/{id}": {
            "get": {
                "tags": [
                    "ADMIN"
                ],
                "summary": "Ruta protegida",
                "description": "Obtiene los detalles de una empresa específica por su ID. Incluye relaciones con el usuario asociado, sectores y ofertas.",
                "operationId": "getEmpresaById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID de la empresa",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalles de la empresa obtenidos correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Empresa Ejemplo"
                                                },
                                                "user": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 10
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "María García"
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "format": "email",
                                                            "example": "maria@empresa.com"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "sectors": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Educación"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "offers": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 21
                                                            },
                                                            "title": {
                                                                "type": "string",
                                                                "example": "Oferta de trabajo"
                                                            },
                                                            "description": {
                                                                "type": "string",
                                                                "example": "Descripción de la oferta..."
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "2024-10-10T10:00:00Z"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "offers_count": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2024-01-15T08:00:00Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Empresa no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Empresa no encontrada"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "ADMIN"
                ],
                "summary": "Ruta protegida",
                "description": "Permite a un usuario con rol de administrador actualizar los datos de una empresa existente. Los campos son opcionales y solo se actualizarán si se incluyen en la solicitud.",
                "operationId": "updateEmpresa",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID de la empresa",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 12
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Tech Solutions"
                                    },
                                    "CIF": {
                                        "type": "string",
                                        "maxLength": 9,
                                        "minLength": 9,
                                        "example": "B12345678"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "info@techsolutions.com"
                                    },
                                    "phone": {
                                        "type": "string",
                                        "pattern": "^\\d+$",
                                        "example": "123456789"
                                    },
                                    "website": {
                                        "type": "string",
                                        "format": "url",
                                        "example": "https://www.techsolutions.com"
                                    },
                                    "active": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "responsible_name": {
                                        "type": "string",
                                        "example": "Laura Pérez"
                                    },
                                    "responsible_email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "laura@techsolutions.com"
                                    },
                                    "responsible_phone": {
                                        "type": "string",
                                        "pattern": "^\\d+$",
                                        "example": "987654321"
                                    },
                                    "address": {
                                        "type": "string",
                                        "example": "Calle Falsa 123"
                                    },
                                    "city": {
                                        "type": "string",
                                        "example": "Madrid"
                                    },
                                    "postal_code": {
                                        "type": "string",
                                        "pattern": "^\\d+$",
                                        "example": "28080"
                                    },
                                    "country": {
                                        "type": "string",
                                        "example": "España"
                                    },
                                    "short_description": {
                                        "type": "string",
                                        "example": "Empresa líder en soluciones tecnológicas."
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Ofrecemos servicios en el sector IT desde 2001."
                                    },
                                    "num_people": {
                                        "type": "integer",
                                        "example": 45
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Empresa actualizada correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 12
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Tech Solutions"
                                                },
                                                "CIF": {
                                                    "type": "string",
                                                    "example": "B12345678"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "format": "email",
                                                    "example": "info@techsolutions.com"
                                                },
                                                "sectors": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Datos inválidos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "CIF": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The CIF has already been taken."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno al actualizar la empresa",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al actualizar la empresa: error_message"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "ADMIN"
                ],
                "summary": "Ruta protegida",
                "description": "Elimina una empresa específica junto con todas las ofertas asociadas a ella.",
                "operationId": "deleteEmpresa",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID de la empresa a eliminar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 12
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Empresa y ofertas eliminadas correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Empresa y sus ofertas eliminadas correctamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Empresa no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No se encontró la empresa"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno al eliminar la empresa",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al eliminar la empresa: error_message"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/instituciones": {
            "get": {
                "tags": [
                    "Instituciones"
                ],
                "summary": "Ruta protegida",
                "description": "Devuelve una lista paginada de instituciones registradas junto con la información del usuario asociado. Solo accesible para usuarios autenticados.",
                "operationId": "listInstitutions",
                "responses": {
                    "200": {
                        "description": "Lista de instituciones obtenida correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Institución Ejemplo"
                                                            },
                                                            "user": {
                                                                "properties": {
                                                                    "id": {
                                                                        "type": "integer",
                                                                        "example": 10
                                                                    },
                                                                    "name": {
                                                                        "type": "string",
                                                                        "example": "Nombre del Usuario"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "total": {
                                                    "type": "integer",
                                                    "example": 15
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthorized"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al cargar instituciones",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al cargar instituciones: Detalle del error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/instituciones/{id}": {
            "get": {
                "tags": [
                    "Instituciones"
                ],
                "summary": "Ruta protegida",
                "description": "Devuelve la información detallada de una institución específica, incluyendo el usuario asociado.",
                "operationId": "getInstitutionDetail",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "El ID de la institución",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalle de la institución obtenido correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Instituto Superior"
                                                },
                                                "user": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 12
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Juan Pérez"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Institución no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Institución no encontrada"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/institutions/{id}": {
            "put": {
                "tags": [
                    "Instituciones"
                ],
                "summary": "Ruta protegida",
                "description": "Permite actualizar los datos de una institución específica. Solo usuarios autorizados pueden acceder.",
                "operationId": "updateInstitutionAdmin",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "El ID de la institución a actualizar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 3
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "description": "El nombre de la institución",
                                        "type": "string",
                                        "example": "Universidad Nacional"
                                    },
                                    "slug": {
                                        "description": "Slug amigable de la institución",
                                        "type": "string",
                                        "example": "universidad-nacional"
                                    },
                                    "NIF": {
                                        "description": "Número de identificación fiscal",
                                        "type": "string",
                                        "example": "A12345678"
                                    },
                                    "type": {
                                        "description": "Tipo de institución",
                                        "type": "string",
                                        "example": "universidad"
                                    },
                                    "email": {
                                        "description": "Correo electrónico de la institución",
                                        "type": "string",
                                        "format": "email",
                                        "example": "contacto@universidad.es"
                                    },
                                    "phone": {
                                        "description": "Teléfono de contacto",
                                        "type": "string",
                                        "example": "912345678"
                                    },
                                    "website": {
                                        "description": "URL del sitio web",
                                        "type": "string",
                                        "format": "url",
                                        "example": "https://www.universidad.es"
                                    },
                                    "responsible_name": {
                                        "description": "Nombre del responsable",
                                        "type": "string",
                                        "example": "Ana Gómez"
                                    },
                                    "responsible_email": {
                                        "description": "Correo del responsable",
                                        "type": "string",
                                        "format": "email",
                                        "example": "ana@universidad.es"
                                    },
                                    "responsible_phone": {
                                        "description": "Teléfono del responsable",
                                        "type": "string",
                                        "example": "654321987"
                                    },
                                    "founded_year": {
                                        "description": "Año de fundación",
                                        "type": "integer",
                                        "example": 1995
                                    },
                                    "specialties": {
                                        "description": "Lista de especialidades ofrecidas",
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "example": [
                                            "Informática",
                                            "Derecho"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Institución actualizada correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Universidad Nacional"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "contacto@universidad.es"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Institución no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Institución no encontrada"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validación fallida",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "errors": {
                                            "properties": {
                                                "email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "El campo email ya está en uso."
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al actualizar institución"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Mensaje de error interno (solo visible en modo debug)"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Instituciones"
                ],
                "summary": "Ruta protegida",
                "description": "Elimina permanentemente una institución por su ID. Requiere autenticación.",
                "operationId": "deleteInstitution",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "El ID de la institución que se desea eliminar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Institución eliminada correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Institución eliminada correctamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Institución no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No se pudo encontrar la institución"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno al eliminar institución",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al eliminar institución: error interno"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/offers": {
            "get": {
                "tags": [
                    "Ofertas"
                ],
                "summary": "Ruta protegida",
                "description": "Devuelve un listado paginado de las ofertas disponibles junto con la información de la empresa asociada.",
                "operationId": "listOffers",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Número de página para paginación",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listado paginado de ofertas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "title": {
                                                        "type": "string",
                                                        "example": "Desarrollador Backend"
                                                    },
                                                    "description": {
                                                        "type": "string",
                                                        "example": "Buscamos desarrollador con experiencia en Laravel."
                                                    },
                                                    "company": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 3
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Tech Solutions"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-06-01T10:00:00Z"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-06-01T10:00:00Z"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno al cargar ofertas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al cargar ofertas: error interno"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/offers/{id}": {
            "get": {
                "tags": [
                    "Ofertas"
                ],
                "summary": "Ruta protegida",
                "description": "Recupera los detalles de una oferta específica, incluyendo la empresa que la publicó y los usuarios interesados.",
                "operationId": "showOfferAdmin",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "El ID de la oferta",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalles de la oferta",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "title": {
                                                    "type": "string",
                                                    "example": "Desarrollador Frontend"
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Se busca desarrollador con experiencia en Vue.js"
                                                },
                                                "company": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 2
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "WebTech S.A."
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "users_interested": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 12
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Juan Pérez"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2024-07-01T09:00:00Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2024-07-01T09:00:00Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Oferta no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Oferta no encontrada"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Ofertas"
                ],
                "summary": "Ruta protegida",
                "description": "Permite actualizar los campos de una oferta existente. Se puede enviar solo los campos que se deseen modificar. Este endpoint requiere autenticación.",
                "operationId": "updateOffer",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "El ID de la oferta a actualizar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 7
                        }
                    }
                ],
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "example": "Desarrollador Backend"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Experiencia en PHP y Laravel."
                                    },
                                    "skills": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "example": [
                                            "PHP",
                                            "Laravel",
                                            "MySQL"
                                        ]
                                    },
                                    "salary": {
                                        "type": "string",
                                        "example": "30000-35000€"
                                    },
                                    "location_type": {
                                        "type": "string",
                                        "example": "remoto"
                                    },
                                    "city": {
                                        "type": "string",
                                        "example": "Madrid"
                                    },
                                    "vacancies": {
                                        "type": "integer",
                                        "example": 2
                                    },
                                    "active": {
                                        "type": "boolean",
                                        "example": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Oferta actualizada correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 7
                                                },
                                                "title": {
                                                    "type": "string",
                                                    "example": "Desarrollador Backend"
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Experiencia en PHP y Laravel."
                                                },
                                                "salary": {
                                                    "type": "string",
                                                    "example": "30000-35000€"
                                                },
                                                "location_type": {
                                                    "type": "string",
                                                    "example": "remoto"
                                                },
                                                "city": {
                                                    "type": "string",
                                                    "example": "Madrid"
                                                },
                                                "vacancies": {
                                                    "type": "integer",
                                                    "example": 2
                                                },
                                                "active": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "company": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 3
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "TechCorp"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "errors": {
                                            "properties": {
                                                "title": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "El campo title es obligatorio."
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al actualizar oferta",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al actualizar oferta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Ofertas"
                ],
                "summary": "Ruta protegida",
                "description": "Elimina permanentemente una oferta del sistema por su ID. Este endpoint está protegido y requiere permisos adecuados.",
                "operationId": "deleteOffer",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "El ID de la oferta a eliminar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 4
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Oferta eliminada correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Oferta eliminada correctamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Oferta no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No query results for model [App\\\\Models\\\\Offer] 999"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al eliminar oferta",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al eliminar oferta: Mensaje del error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/offers/{id}/status": {
            "patch": {
                "tags": [
                    "Ofertas"
                ],
                "summary": "Ruta protegida",
                "description": "Permite activar o desactivar una oferta específica. Este endpoint requiere autenticación.",
                "operationId": "updateOfferStatus",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "El ID de la oferta a actualizar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 4
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "active"
                                ],
                                "properties": {
                                    "active": {
                                        "description": "Indica si la oferta está activa (true) o inactiva (false)",
                                        "type": "boolean",
                                        "example": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Estado de la oferta actualizado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 4
                                                },
                                                "title": {
                                                    "type": "string",
                                                    "example": "Desarrollador Frontend"
                                                },
                                                "active": {
                                                    "type": "boolean",
                                                    "example": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Datos inválidos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "active": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The active field is required."
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al actualizar estado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al actualizar estado: Error message"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/offers/{id}/applications": {
            "get": {
                "tags": [
                    "Ofertas"
                ],
                "summary": "Ruta protegida",
                "description": "Devuelve la lista de usuarios que se han postulado a una oferta específica, incluyendo el estado de la postulación y la fecha de creación.",
                "operationId": "getOfferApplications",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "El ID de la oferta",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de aplicaciones obtenida correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 10
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Juan"
                                                    },
                                                    "surname": {
                                                        "type": "string",
                                                        "example": "Pérez"
                                                    },
                                                    "pivot": {
                                                        "properties": {
                                                            "status": {
                                                                "type": "string",
                                                                "example": "pendiente"
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "2024-11-01T12:34:56.000000Z"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Oferta no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No query results for model [App\\\\Models\\\\Offer] 999"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al cargar aplicaciones",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al cargar aplicaciones: Mensaje del error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/estudiantes": {
            "get": {
                "tags": [
                    "Estudiantes"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint devuelve una lista paginada de estudiantes, incluyendo su información relacionada como usuario, formación académica y habilidades.",
                "operationId": "listStudents",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Página de resultados para la paginación",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de estudiantes obtenida correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 5
                                                            },
                                                            "user": {
                                                                "properties": {
                                                                    "id": {
                                                                        "type": "integer",
                                                                        "example": 12
                                                                    },
                                                                    "name": {
                                                                        "type": "string",
                                                                        "example": "Carlos Gómez"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "education": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "string"
                                                                },
                                                                "example": []
                                                            },
                                                            "skills": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "string"
                                                                },
                                                                "example": []
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "2024-12-01T12:34:56.000000Z"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "total": {
                                                    "type": "integer",
                                                    "example": 25
                                                },
                                                "last_page": {
                                                    "type": "integer",
                                                    "example": 3
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al cargar estudiantes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al cargar estudiantes: error_message"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/estudiantes/{id}": {
            "get": {
                "tags": [
                    "Estudiantes"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint permite a un administrador obtener la información completa de un estudiante por su ID, incluyendo usuario relacionado, formación, experiencia, habilidades y proyectos.",
                "operationId": "getStudentDetails",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del estudiante a consultar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 7
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalles del estudiante obtenidos correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 7
                                                },
                                                "user": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 21
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Laura Pérez"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "education": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": []
                                                },
                                                "experience": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": []
                                                },
                                                "skills": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": []
                                                },
                                                "projects": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": []
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-01-12T10:45:00.000000Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Estudiante no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Estudiante no encontrado"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Estudiantes"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint permite a un administrador actualizar tanto los datos del estudiante como del usuario asociado.",
                "operationId": "updateStudentAdmin",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del estudiante a actualizar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 7
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Laura"
                                    },
                                    "surname": {
                                        "type": "string",
                                        "example": "Pérez"
                                    },
                                    "type_document": {
                                        "type": "string",
                                        "example": "DNI"
                                    },
                                    "id_document": {
                                        "type": "string",
                                        "example": "12345678A"
                                    },
                                    "nationality": {
                                        "type": "string",
                                        "example": "Española"
                                    },
                                    "birthday": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2001-05-22"
                                    },
                                    "gender": {
                                        "type": "string",
                                        "example": "Femenino"
                                    },
                                    "phone": {
                                        "type": "string",
                                        "example": "612345678"
                                    },
                                    "address": {
                                        "type": "string",
                                        "example": "Calle Mayor 123"
                                    },
                                    "city": {
                                        "type": "string",
                                        "example": "Madrid"
                                    },
                                    "country": {
                                        "type": "string",
                                        "example": "España"
                                    },
                                    "postal_code": {
                                        "type": "string",
                                        "example": "28001"
                                    },
                                    "languages": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "example": [
                                            "Español",
                                            "Inglés"
                                        ]
                                    },
                                    "active": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "laura.perez@email.com"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Estudiante actualizado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 7
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Laura"
                                                },
                                                "surname": {
                                                    "type": "string",
                                                    "example": "Pérez"
                                                },
                                                "languages": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "Español",
                                                        "Inglés"
                                                    ]
                                                },
                                                "user": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 21
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "example": "laura.perez@email.com"
                                                        },
                                                        "active": {
                                                            "type": "boolean",
                                                            "example": true
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al actualizar estudiante",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al actualizar estudiante: Detalle del error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Estudiantes"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint permite a un administrador eliminar un estudiante junto con su información relacionada, como educación, experiencia, habilidades y proyectos. También elimina el usuario asociado.",
                "operationId": "deleteStudent",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del estudiante a eliminar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 12
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Estudiante eliminado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Estudiante eliminado correctamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al eliminar estudiante",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al eliminar estudiante: Detalle del error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/reports": {
            "get": {
                "tags": [
                    "Reportes"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint devuelve una lista de todos los reportes realizados en el sistema, incluyendo información sobre el usuario reportado y el reportante.",
                "operationId": "getAllReports",
                "responses": {
                    "200": {
                        "description": "Lista de reportes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "id": {
                                                "type": "integer",
                                                "example": 1
                                            },
                                            "reason": {
                                                "type": "string",
                                                "example": "Contenido ofensivo"
                                            },
                                            "reported_user": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 5
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Usuario Reportado"
                                                    }
                                                },
                                                "type": "object"
                                            },
                                            "reporter": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 2
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Usuario Reportante"
                                                    }
                                                },
                                                "type": "object"
                                            },
                                            "created_at": {
                                                "type": "string",
                                                "format": "date-time",
                                                "example": "2024-05-01T12:00:00.000000Z"
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Reports"
                ],
                "summary": "Ruta protegida",
                "description": "Valida que el usuario reportado exista y que la razón esté presente. Luego crea un reporte con el usuario reportado, el usuario que reporta y la razón.",
                "operationId": "createUserReport",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "reported_user_id",
                                    "reason"
                                ],
                                "properties": {
                                    "reported_user_id": {
                                        "description": "ID del usuario que se reporta",
                                        "type": "integer",
                                        "example": 15
                                    },
                                    "reason": {
                                        "description": "Razón del reporte",
                                        "type": "string",
                                        "maxLength": 1000,
                                        "example": "Contenido inapropiado"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Reporte enviado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Reporte enviado correctamente"
                                        },
                                        "report": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "reported_user_id": {
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "reported_by_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "reason": {
                                                    "type": "string",
                                                    "example": "Contenido inapropiado"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-05-22T12:34:56.000000Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-05-22T12:34:56.000000Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "reported_user_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El id del usuario reportado es obligatorio."
                                                    }
                                                },
                                                "reason": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "La razón es obligatoria."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/reports/{id}": {
            "delete": {
                "tags": [
                    "Reportes"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint elimina un reporte específico por su ID.",
                "operationId": "deleteReport",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "El ID del reporte a eliminar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 3
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Reporte eliminado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reporte eliminado correctamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No se encontró el reporte",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No se encontró el reporte"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/users/{userId}": {
            "delete": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint elimina un usuario de forma permanente, incluyendo opcionalmente sus reportes asociados.",
                "operationId": "deleteUserPermanently",
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "description": "El ID del usuario que se desea eliminar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 10
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Usuario eliminado permanentemente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Usuario eliminado permanentemente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No se encontró el usuario",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No se encontró el usuario"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/users/{userId}/ban": {
            "post": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint permite desactivar un usuario (banearlo) estableciendo su estado como inactivo.",
                "operationId": "banUser",
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "description": "El ID del usuario que se desea banear",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 15
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Usuario baneado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Usuario baneado correctamente"
                                        },
                                        "user": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Juan Pérez"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "juan@example.com"
                                                },
                                                "active": {
                                                    "type": "integer",
                                                    "example": 0
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No se encontró el usuario",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No se encontró el usuario"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Iniciar sessió d’un usuari",
                "description": "Endpoint per autenticar un usuari mitjançant email i contrasenya. Retorna un token d’autenticació, les dades de l’usuari, el seu rol associat i notificacions.",
                "operationId": "loginUser",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "description": "Correu electrònic registrat.",
                                        "type": "string",
                                        "format": "email",
                                        "example": "joan@example.com"
                                    },
                                    "password": {
                                        "description": "Contrasenya de l’usuari.",
                                        "type": "string",
                                        "example": "secret123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuari autenticat correctament",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Credentials validated"
                                        },
                                        "token": {
                                            "type": "string",
                                            "example": "eyJ0eXAiOiJKV1QiLCJh..."
                                        },
                                        "user": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Joan"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "joan@example.com"
                                                },
                                                "rol": {
                                                    "type": "string",
                                                    "example": "student"
                                                },
                                                "student": {
                                                    "description": "Dades del perfil de l'estudiant (si aplica)",
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "notifications": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Credencials incorrectes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Invalid credentials"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/register": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Registrar un nou usuari (student, company o institution)",
                "description": "Endpoint per registrar un usuari nou i crear les entitats relacionades segons el rol especificat. Retorna informació de l'usuari, token d'autenticació i les dades associades (empresa, institució o estudiant).",
                "operationId": "registerUser",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "surname",
                                    "birthday",
                                    "email",
                                    "password",
                                    "rol"
                                ],
                                "properties": {
                                    "name": {
                                        "description": "Nom de l'usuari.",
                                        "type": "string",
                                        "example": "Joan"
                                    },
                                    "surname": {
                                        "description": "Cognom de l'usuari.",
                                        "type": "string",
                                        "example": "Garcia"
                                    },
                                    "birthday": {
                                        "description": "Data de naixement (format YYYY-MM-DD).",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2000-05-22"
                                    },
                                    "email": {
                                        "description": "Correu electrònic de l'usuari.",
                                        "type": "string",
                                        "format": "email",
                                        "example": "joan@example.com"
                                    },
                                    "password": {
                                        "description": "Contrasenya de l'usuari.",
                                        "type": "string",
                                        "example": "secret123"
                                    },
                                    "rol": {
                                        "description": "Rol de l'usuari.",
                                        "type": "string",
                                        "enum": [
                                            "student",
                                            "company",
                                            "institutions"
                                        ],
                                        "example": "student"
                                    },
                                    "student": {
                                        "description": "Informació addicional si el rol és student.",
                                        "properties": {
                                            "phone": {
                                                "type": "string",
                                                "example": "600123123"
                                            },
                                            "address": {
                                                "type": "string",
                                                "example": "Carrer Major 1"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "company": {
                                        "description": "Informació addicional si el rol és company.",
                                        "properties": {
                                            "name": {
                                                "type": "string",
                                                "example": "Empresa S.L."
                                            },
                                            "sector": {
                                                "type": "string",
                                                "example": "Tecnologia"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "institution": {
                                        "description": "Informació addicional si el rol és institutions.",
                                        "properties": {
                                            "name": {
                                                "type": "string",
                                                "example": "Institut X"
                                            },
                                            "location": {
                                                "type": "string",
                                                "example": "Barcelona"
                                            }
                                        },
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuari registrat correctament",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "user": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Joan"
                                                },
                                                "surname": {
                                                    "type": "string",
                                                    "example": "Garcia"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "joan@example.com"
                                                },
                                                "rol": {
                                                    "type": "string",
                                                    "example": "student"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "token": {
                                            "type": "string",
                                            "example": "eyJ0eXAiOiJKV1QiLCJh..."
                                        },
                                        "student": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "user_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "notifications": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validació",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "El campo name es obligatorio."
                                        },
                                        "errors": {
                                            "properties": {
                                                "name": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo name es obligatorio."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "L'usuari ja existeix",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "warning"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El usuario ya existe en la base de datos."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error intern al crear l'entitat",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al crear la empresa."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/logout": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Tancar sessió",
                "description": "Endpoint per finalitzar la sessió de l’usuari autenticat. Actualitza l’estat de l’usuari a 'offline' i invalida la sessió actual.",
                "operationId": "logoutUser",
                "responses": {
                    "200": {
                        "description": "Sessió tancada correctament",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Logged out"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/user": {
            "get": {
                "tags": [
                    "Auth"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint requiere autenticación. Retorna la información del usuario autenticado y una lista de notificaciones relacionadas.",
                "operationId": "getAuthenticatedUser",
                "responses": {
                    "200": {
                        "description": "Usuario autenticado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "user": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Nombre de Usuario"
                                                },
                                                "rol": {
                                                    "type": "string",
                                                    "example": "company"
                                                },
                                                "company": {
                                                    "description": "Datos de la empresa asociada si el rol es 'company'",
                                                    "type": "object"
                                                },
                                                "student": {
                                                    "type": "string",
                                                    "example": null,
                                                    "nullable": true
                                                },
                                                "institution": {
                                                    "type": "string",
                                                    "example": null,
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "notifications": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Usuario no autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Usuario no autenticado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/auth/google-login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Iniciar sesión con Google",
                "description": "Gestiona el login de usuarios mediante Google OAuth. Crea el usuario si no existe y devuelve un token de autenticación.",
                "operationId": "loginWithGoogle",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "name"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "user@example.com"
                                    },
                                    "name": {
                                        "type": "string",
                                        "example": "Nombre Apellido"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Autenticación exitosa",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "token": {
                                            "type": "string",
                                            "example": "eyJ0eXAiOiJKV1QiLCJh..."
                                        },
                                        "user": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Nombre"
                                                },
                                                "surname": {
                                                    "type": "string",
                                                    "example": "Apellido"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "user@example.com"
                                                },
                                                "rol": {
                                                    "type": "string",
                                                    "example": "student"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Email obligatorio",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Email is required"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error de autenticación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Authentication failed"
                                        },
                                        "debug": {
                                            "type": "string",
                                            "example": "Mensaje de error detallado (solo si APP_DEBUG está activo)"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/password/code": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Enviar codi de recuperació de contrasenya",
                "description": "Aquest endpoint genera i envia un codi de 6 dígits al correu electrònic proporcionat per a recuperar la contrasenya. El codi és vàlid durant 15 minuts.",
                "operationId": "sendPasswordRecoveryCode",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "user@example.com"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Codi enviat correctament",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Codi enviat correctament"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Dades no vàlides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The email field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/password/verify-code": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Verificar codi de recuperació de contrasenya",
                "description": "Aquest endpoint comprova si el codi enviat per correu és vàlid i no ha caducat.",
                "operationId": "verifyRecoveryCode",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "code"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "user@example.com"
                                    },
                                    "code": {
                                        "type": "string",
                                        "example": "123456"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Codi correcte",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Codi correcte"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Codi invàlid o caducat",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Codi invàlid o caducat"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Dades no vàlides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The email field is required."
                                                    }
                                                },
                                                "code": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The code field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/password/reset": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Restablir contrasenya d'usuari",
                "description": "Aquest endpoint permet canviar la contrasenya mitjançant un codi de verificació vàlid.",
                "operationId": "resetPassword",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "code",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "user@example.com"
                                    },
                                    "code": {
                                        "type": "string",
                                        "example": "123456"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "novaContrasenya123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Contrasenya restablerta correctament",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Contrasenya restablerta correctament"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Codi invàlid o caducat",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Codi invàlid o caducat"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Dades no vàlides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The email field is required."
                                                    }
                                                },
                                                "code": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The code field is required."
                                                    }
                                                },
                                                "password": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The password field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/direct-chats": {
            "get": {
                "tags": [
                    "Chats"
                ],
                "summary": "Ruta protegida",
                "description": "Devuelve todos los chats directos en los que el usuario autenticado participa, incluyendo información del otro usuario, cantidad de mensajes no leídos, último mensaje, y estados de guardado y favorito.",
                "operationId": "getDirectChats",
                "responses": {
                    "200": {
                        "description": "Lista de chats directos obtenida correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "direct_chats": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "user": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 2
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Nombre del otro usuario"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "unread_count": {
                                                        "type": "integer",
                                                        "example": 3
                                                    },
                                                    "last_message": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 45
                                                            },
                                                            "content": {
                                                                "type": "string",
                                                                "example": "Último mensaje enviado"
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "2025-05-22T12:34:56Z"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "isBookedMarked": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "isSaved": {
                                                        "type": "boolean",
                                                        "example": false
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-05-22T12:34:56Z"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/direct-chats/{userId}": {
            "get": {
                "tags": [
                    "Chats"
                ],
                "summary": "Ruta protegida",
                "description": "Obtiene un chat directo entre el usuario autenticado y otro usuario. Si no existe, lo crea. Carga relaciones según el rol del otro usuario e incluye los últimos 50 mensajes, marcando como leídos los mensajes no leídos.",
                "operationId": "getOrCreateDirectChat",
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "description": "ID del otro usuario con el que se desea iniciar o recuperar el chat directo",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 2
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Chat directo recuperado o creado con éxito",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "direct_chat": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 123
                                                },
                                                "user_one_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "user_two_id": {
                                                    "type": "integer",
                                                    "example": 2
                                                },
                                                "user": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 2
                                                        },
                                                        "rol": {
                                                            "type": "string",
                                                            "example": "student"
                                                        },
                                                        "student": {
                                                            "description": "Datos del estudiante (si el usuario es estudiante)",
                                                            "type": "object"
                                                        },
                                                        "company": {
                                                            "description": "Datos de la empresa (si el usuario es empresa)",
                                                            "type": "object"
                                                        },
                                                        "institution": {
                                                            "description": "Datos de la institución (si el usuario autenticado es institución)",
                                                            "type": "object"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "messages": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "last_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 50
                                                },
                                                "total": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 456
                                                            },
                                                            "content": {
                                                                "type": "string",
                                                                "example": "Mensaje de ejemplo"
                                                            },
                                                            "sender": {
                                                                "properties": {
                                                                    "id": {
                                                                        "type": "integer",
                                                                        "example": 1
                                                                    },
                                                                    "name": {
                                                                        "type": "string",
                                                                        "example": "Usuario remitente"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "attachments": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "object"
                                                                }
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "2025-05-22T13:45:00Z"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/direct-chats/send-message": {
            "post": {
                "tags": [
                    "Chats"
                ],
                "summary": "Ruta protegida",
                "description": "Crea o recupera un chat directo por cada destinatario, envía el mensaje, actualiza los chats del usuario autenticado, y genera notificaciones.",
                "operationId": "sendDirectMessage",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "content",
                                    "user_ids"
                                ],
                                "properties": {
                                    "content": {
                                        "type": "string",
                                        "example": "Hola, ¿cómo estás?"
                                    },
                                    "user_ids": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer",
                                            "example": 34
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Mensaje enviado y chats actualizados correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "direct_chats": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 12
                                                    },
                                                    "user": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 34
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Juan Pérez"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "unread_count": {
                                                        "type": "integer",
                                                        "example": 2
                                                    },
                                                    "last_message": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 55
                                                            },
                                                            "content": {
                                                                "type": "string",
                                                                "example": "Hola!"
                                                            },
                                                            "sender_id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-05-22T10:00:00Z"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "dataChat": {
                                            "properties": {
                                                "status": {
                                                    "type": "string",
                                                    "example": "success"
                                                },
                                                "chat_id": {
                                                    "type": "integer",
                                                    "example": 12
                                                },
                                                "recipient_id": {
                                                    "type": "integer",
                                                    "example": 34
                                                },
                                                "message": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 55
                                                        },
                                                        "content": {
                                                            "type": "string",
                                                            "example": "Hola!"
                                                        },
                                                        "sender_id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "errors": {
                                            "properties": {
                                                "content": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El contenido es obligatorio."
                                                    }
                                                },
                                                "user_ids": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Debes indicar al menos un destinatario."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/direct-chats/suggested-contacts": {
            "get": {
                "tags": [
                    "Chats"
                ],
                "summary": "Ruta protegida",
                "description": "Devuelve usuarios sugeridos basados en habilidades compartidas con el usuario autenticado y una lista adicional de contactos excluyendo a los sugeridos y al propio usuario.",
                "operationId": "getSuggestedDirectChatContacts",
                "responses": {
                    "200": {
                        "description": "Usuarios sugeridos y más contactos obtenidos correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "suggested_all": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 5
                                                    },
                                                    "uuid": {
                                                        "type": "string",
                                                        "example": "uuid-ejemplo"
                                                    },
                                                    "slug": {
                                                        "type": "string",
                                                        "example": "slug-ejemplo"
                                                    },
                                                    "user_id": {
                                                        "type": "integer",
                                                        "example": 10
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Juan Pérez"
                                                    },
                                                    "skills": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "string",
                                                            "example": "PHP"
                                                        }
                                                    },
                                                    "avatar": {
                                                        "type": "string",
                                                        "example": "https://url-a-avatar.com/imagen.jpg"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "example": "student"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "more_contacts": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 7
                                                    },
                                                    "uuid": {
                                                        "type": "string",
                                                        "example": "uuid-otro-ejemplo"
                                                    },
                                                    "slug": {
                                                        "type": "string",
                                                        "example": "slug-otro-ejemplo"
                                                    },
                                                    "user_id": {
                                                        "type": "integer",
                                                        "example": 20
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Empresa XYZ"
                                                    },
                                                    "skills": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "string",
                                                            "example": "React"
                                                        }
                                                    },
                                                    "avatar": {
                                                        "type": "string",
                                                        "example": "https://url-a-avatar.com/logo.png"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "example": "company"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Mensaje de error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/direct-chats/{directChatId}/toggle-bookmark": {
            "post": {
                "tags": [
                    "Chats"
                ],
                "summary": "Ruta protegida",
                "description": "Invierte el estado del bookmark para el usuario autenticado en el chat especificado.",
                "operationId": "toggleBookmarkDirectChat",
                "parameters": [
                    {
                        "name": "directChatId",
                        "in": "path",
                        "description": "ID del chat directo a marcar o desmarcar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 15
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Chat actualizado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "direct_chat": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "user_one_id": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "user_two_id": {
                                                    "type": "integer",
                                                    "example": 7
                                                },
                                                "is_bookmarked_user_one": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "is_bookmarked_user_two": {
                                                    "type": "boolean",
                                                    "example": false
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Chat no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No se encontró el chat directo con el ID proporcionado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/direct-chats/{directChatId}/toggle-save": {
            "post": {
                "tags": [
                    "Chats"
                ],
                "summary": "Ruta protegida",
                "description": "Invierte el estado de guardado (saved) del chat directo para el usuario autenticado.",
                "operationId": "toggleSaveDirectChat",
                "parameters": [
                    {
                        "name": "directChatId",
                        "in": "path",
                        "description": "ID del chat directo que se desea marcar o desmarcar como guardado",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 12
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Chat actualizado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "direct_chat": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 12
                                                },
                                                "user_one_id": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "user_two_id": {
                                                    "type": "integer",
                                                    "example": 8
                                                },
                                                "is_saved_user_one": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "is_saved_user_two": {
                                                    "type": "boolean",
                                                    "example": false
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Chat no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No se encontró el chat directo con el ID especificado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/publications/{post}/comments": {
            "post": {
                "tags": [
                    "Comentarios"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint permite agregar un nuevo comentario a una publicación existente.",
                "operationId": "createComment",
                "parameters": [
                    {
                        "name": "post",
                        "in": "path",
                        "description": "El ID de la publicación en la que se quiere comentar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 3
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "content"
                                ],
                                "properties": {
                                    "content": {
                                        "type": "string",
                                        "example": "¡Excelente publicación!"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Comentario creado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 12
                                        },
                                        "post_id": {
                                            "type": "integer",
                                            "example": 3
                                        },
                                        "user_id": {
                                            "type": "integer",
                                            "example": 5
                                        },
                                        "content": {
                                            "type": "string",
                                            "example": "¡Excelente publicación!"
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "format": "date-time",
                                            "example": "2025-05-22T15:45:00Z"
                                        },
                                        "updated_at": {
                                            "type": "string",
                                            "format": "date-time",
                                            "example": "2025-05-22T15:45:00Z"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/company/update": {
            "post": {
                "tags": [
                    "Empresas"
                ],
                "summary": "Ruta protegida",
                "description": "Actualiza los datos de una empresa, incluyendo el logo, la portada, sectores, habilidades y ofertas relacionadas.",
                "operationId": "updateCompany",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "id"
                                ],
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "name": {
                                        "type": "string",
                                        "example": "Nombre Empresa"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Descripción de la empresa"
                                    },
                                    "logo": {
                                        "description": "Logo de la empresa (opcional)",
                                        "type": "file"
                                    },
                                    "cover_photo": {
                                        "description": "Foto de portada de la empresa (opcional)",
                                        "type": "file"
                                    },
                                    "sectors": {
                                        "description": "JSON string con sectores",
                                        "type": "string",
                                        "example": "[{'id':1,'name':'Tecnología'}]"
                                    },
                                    "skills": {
                                        "description": "JSON string con habilidades",
                                        "type": "string",
                                        "example": "[{'id':2,'name':'Desarrollo Web'}]"
                                    },
                                    "offers": {
                                        "description": "JSON string con ofertas",
                                        "type": "string",
                                        "example": "[{'id':5,'title':'Oferta de empleo'}]"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Empresa actualizada correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Empresa actualizada correctamente"
                                        },
                                        "company": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Nombre Empresa"
                                                },
                                                "logo": {
                                                    "type": "string",
                                                    "example": "companies/logo_1.jpg"
                                                },
                                                "cover_photo": {
                                                    "type": "string",
                                                    "example": "companies/cover_photo_1.jpg"
                                                },
                                                "sectors": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "skills": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "offers": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "followers": {
                                                    "type": "integer",
                                                    "example": 42
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No se encontró la empresa",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No se encontró la empresa"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/companies/{slug}": {
            "get": {
                "tags": [
                    "Companies"
                ],
                "summary": "Obtener información de una empresa por su slug",
                "description": "Recupera los datos de una empresa usando el identificador único 'slug'.",
                "operationId": "getCompanyBySlug",
                "parameters": [
                    {
                        "name": "slug",
                        "in": "path",
                        "description": "Slug único que identifica a la empresa",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "empresa-ejemplo"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Empresa encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "company": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Empresa Ejemplo"
                                                },
                                                "slug": {
                                                    "type": "string",
                                                    "example": "empresa-ejemplo"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Empresa no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Company not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/companies": {
            "get": {
                "tags": [
                    "Companies"
                ],
                "summary": "Obtener todas las empresas registradas",
                "description": "Intenta recuperar todas las compañías mediante el servicio companyService.",
                "operationId": "getAllCompanies",
                "responses": {
                    "200": {
                        "description": "Listado de empresas recuperado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "companies": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Empresa 1"
                                                    },
                                                    "slug": {
                                                        "type": "string",
                                                        "example": "empresa-1"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-05-01T12:00:00Z"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-05-10T12:00:00Z"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No se encontraron empresas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Company not found 222"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Mensaje de error del servidor"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/company/is-owner": {
            "post": {
                "tags": [
                    "Companies"
                ],
                "summary": "Verifica si un usuario es dueño de una compañía",
                "description": "Valida si el usuario logueado es el dueño de la compañía indicada por ID.",
                "operationId": "checkCompanyOwnership",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "id_company"
                                ],
                                "properties": {
                                    "id_company": {
                                        "description": "ID de la compañía a verificar",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "id_user_loged": {
                                        "description": "ID del usuario logueado (opcional)",
                                        "type": "integer",
                                        "example": 5
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuario es dueño o no de la compañía",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El usuario es dueño de la compañia"
                                        },
                                        "admin": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "company": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Empresa Ejemplo"
                                                },
                                                "sectors": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "skills": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "offers": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "followers": {
                                                    "type": "integer",
                                                    "example": 10
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Faltan campos obligatorios o tienen errores",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Faltan campos obligatorios o tienen errores"
                                        },
                                        "errors": {
                                            "properties": {
                                                "id_company": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El id del company es requerido"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error message"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/courses": {
            "get": {
                "tags": [
                    "Courses"
                ],
                "summary": "Ruta protegida",
                "description": "Retorna totes les dades dels cursos disponibles al sistema.",
                "operationId": "getCourses",
                "responses": {
                    "200": {
                        "description": "Cursos obtinguts correctament",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "courses": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Curso 1"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error intern del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Mensaje de error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/experience/create": {
            "post": {
                "tags": [
                    "Experiencia"
                ],
                "summary": "Ruta protegida",
                "description": "Valida los datos de entrada y utiliza una transacción para asegurar la integridad de la base de datos durante la creación.",
                "operationId": "createStudentExperience",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "student_id",
                                    "department",
                                    "employee_type",
                                    "location_type",
                                    "start_date"
                                ],
                                "properties": {
                                    "student_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "company_id": {
                                        "type": "integer",
                                        "example": 5,
                                        "nullable": true
                                    },
                                    "company_name": {
                                        "type": "string",
                                        "example": "TechCorp S.A.",
                                        "nullable": true
                                    },
                                    "department": {
                                        "type": "string",
                                        "example": "Desarrollo"
                                    },
                                    "employee_type": {
                                        "type": "string",
                                        "example": "Tiempo completo"
                                    },
                                    "company_address": {
                                        "type": "string",
                                        "example": "Calle Falsa 123",
                                        "nullable": true
                                    },
                                    "location_type": {
                                        "type": "string",
                                        "example": "Remoto"
                                    },
                                    "start_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2022-01-10"
                                    },
                                    "end_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2023-01-10",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Experiencia creada correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "experience": {
                                            "description": "Datos del registro creado",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Errores de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "properties": {
                                                "student_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo student_id es obligatorio."
                                                    }
                                                },
                                                "department": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo department es obligatorio."
                                                    }
                                                },
                                                "employee_type": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo employee_type es obligatorio."
                                                    }
                                                },
                                                "location_type": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo location_type es obligatorio."
                                                    }
                                                },
                                                "start_date": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo start_date es obligatorio."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno al crear la experiencia",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al crear la experiencia del estudiante."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/experience/update": {
            "put": {
                "tags": [
                    "Experiencia"
                ],
                "summary": "Ruta protegida",
                "description": "Valida los datos recibidos y usa una transacción para mantener la integridad durante la actualización.",
                "operationId": "updateStudentExperience",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "id",
                                    "department",
                                    "employee_type",
                                    "location_type",
                                    "start_date"
                                ],
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "company_id": {
                                        "type": "integer",
                                        "example": 5,
                                        "nullable": true
                                    },
                                    "company_name": {
                                        "type": "string",
                                        "example": "TechCorp S.A.",
                                        "nullable": true
                                    },
                                    "department": {
                                        "type": "string",
                                        "example": "Desarrollo"
                                    },
                                    "employee_type": {
                                        "type": "string",
                                        "example": "Tiempo completo"
                                    },
                                    "company_address": {
                                        "type": "string",
                                        "example": "Calle Falsa 123",
                                        "nullable": true
                                    },
                                    "location_type": {
                                        "type": "string",
                                        "example": "Presencial"
                                    },
                                    "start_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2022-01-10"
                                    },
                                    "end_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2023-01-10",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Experiencia actualizada correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "experience": {
                                            "description": "Datos actualizados del registro de experiencia",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Errores de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "properties": {
                                                "id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo id es obligatorio."
                                                    }
                                                },
                                                "department": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo department es obligatorio."
                                                    }
                                                },
                                                "employee_type": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo employee_type es obligatorio."
                                                    }
                                                },
                                                "location_type": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo location_type es obligatorio."
                                                    }
                                                },
                                                "start_date": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo start_date es obligatorio."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno al actualizar la experiencia",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al actualizar la experiencia del estudiante."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/experience/delete": {
            "delete": {
                "tags": [
                    "Experiencia"
                ],
                "summary": "Ruta protegida",
                "description": "Valida que es passi l'ID i utilitza una transacció per assegurar la integritat durant l'eliminació.",
                "operationId": "deleteStudentExperience",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "id"
                                ],
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Experiencia eliminada correctament",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Experiencia Eliminada"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validació",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "properties": {
                                                "id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo id es obligatorio."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error intern al eliminar la experiència",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al eliminar la experiencia del estudiante."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/follows": {
            "post": {
                "tags": [
                    "Follows"
                ],
                "summary": "Ruta protegida",
                "description": "Permite al usuario autenticado seguir a otro usuario. Valida el ID, evita autoseguimiento, bloqueos y duplicados. La relación puede aprobarse automáticamente o quedar pendiente.",
                "operationId": "followUser",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "user_id"
                                ],
                                "properties": {
                                    "user_id": {
                                        "description": "ID del usuario a seguir",
                                        "type": "integer",
                                        "example": 2
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Seguimiento exitoso o ya existente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "oneOf": [
                                        {
                                            "properties": {
                                                "status": {
                                                    "type": "string",
                                                    "example": "success"
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "example": "Ahora sigues a este usuario"
                                                },
                                                "follow_status": {
                                                    "type": "string",
                                                    "example": "approved"
                                                },
                                                "newFollow": {
                                                    "properties": {
                                                        "follower_id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "following_id": {
                                                            "type": "integer",
                                                            "example": 2
                                                        },
                                                        "status": {
                                                            "type": "string",
                                                            "example": "approved"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        {
                                            "properties": {
                                                "status": {
                                                    "type": "string",
                                                    "example": "warning"
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "example": "Ya sigues a este usuario"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Intento de autoseguimiento",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No puedes seguirte a ti mismo"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validación fallida",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "properties": {
                                                "user_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El id del usuario es requerido"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Usuario no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Usuario no encontrado"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/follows/{user_id}": {
            "delete": {
                "tags": [
                    "Follows"
                ],
                "summary": "Ruta protegida",
                "description": "Permet al usuari autenticat deixar de seguir a un altre usuari eliminant la relació de seguiment.",
                "operationId": "unfollowUser",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "path",
                        "description": "ID de l'usuari al qual es deixa de seguir",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 2
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Resposta d'èxit quan es deixa de seguir o ja no es segueix l'usuari",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "oneOf": [
                                        {
                                            "properties": {
                                                "status": {
                                                    "type": "string",
                                                    "example": "success"
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "example": "Has dejado de seguir a este usuario"
                                                },
                                                "unfollow": {
                                                    "type": "integer",
                                                    "example": 1
                                                }
                                            },
                                            "type": "object"
                                        },
                                        {
                                            "properties": {
                                                "status": {
                                                    "type": "string",
                                                    "example": "success"
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "example": "No sigues a este usuario"
                                                },
                                                "unfollow": {
                                                    "type": "integer",
                                                    "example": 0
                                                }
                                            },
                                            "type": "object"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/follows/approve/{follower_id}": {
            "post": {
                "tags": [
                    "Follows"
                ],
                "summary": "Ruta protegida",
                "description": "Canvia l'estat de la relació de seguiment de 'pending' a 'approved' per un usuari que vol seguir l'usuari autenticat.",
                "operationId": "approveFollowRequest",
                "parameters": [
                    {
                        "name": "follower_id",
                        "in": "path",
                        "description": "ID de l'usuari que ha enviat la sol·licitud de seguiment",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Sol·licitud de seguiment aprovada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Solicitud de seguimiento aprobada"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No s'ha trobat la sol·licitud de seguiment",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No se encontró la solicitud de seguimiento"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/follows/reject/{follower_id}": {
            "delete": {
                "tags": [
                    "Follows"
                ],
                "summary": "Ruta protegida",
                "description": "Elimina la relació de seguiment amb estat 'pending' d'un usuari que vol seguir l'usuari autenticat.",
                "operationId": "rejectFollowRequest",
                "parameters": [
                    {
                        "name": "follower_id",
                        "in": "path",
                        "description": "ID de l'usuari que ha enviat la sol·licitud de seguiment",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Sol·licitud de seguiment rebutjada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Solicitud de seguimiento rechazada"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No s'ha trobat la sol·licitud de seguiment",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No se encontró la solicitud de seguimiento"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/block-user": {
            "post": {
                "summary": "Ruta protegida",
                "description": "Valida que el `user_id` existeixi i que no sigui el mateix usuari que fa la crida.\n     *                  Comprova si l'usuari ja està bloquejat.\n     *                  Elimina les relacions de seguidors entre ambdós usuaris (en ambdós sentits).\n     *                  Inserta el registre de bloqueig a la taula `blocked_users`.",
                "operationId": "0b34d91280423fc833de75fdeec65edf",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "user_id"
                                ],
                                "properties": {
                                    "user_id": {
                                        "description": "ID de l'usuari a bloquejar",
                                        "type": "integer"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acció realitzada amb èxit o advertència",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "oneOf": [
                                        {
                                            "properties": {
                                                "status": {
                                                    "type": "string",
                                                    "example": "success"
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "example": "Usuario bloqueado exitosamente"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        {
                                            "properties": {
                                                "status": {
                                                    "type": "string",
                                                    "example": "warning"
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "example": "Este usuario ya está bloqueado"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error per intentar bloquejar-se a un mateix usuari",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No puedes bloquearte a ti mismo"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validació de dades",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "user_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo user_id es obligatorio y debe existir en la tabla users."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/unblock-user/{user_id}": {
            "post": {
                "summary": "Ruta protegida",
                "description": "Elimina el registro de bloqueo correspondiente de la tabla `blocked_users`.\n     *                  Si se elimina correctamente, devuelve un mensaje de éxito.\n     *                  Si no existía el bloqueo, devuelve un mensaje de advertencia.",
                "operationId": "e69582dde8f575ca4502bb08e9f65a66",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "path",
                        "description": "ID del usuario que se desea desbloquear",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Respuesta exitosa o advertencia",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "oneOf": [
                                        {
                                            "properties": {
                                                "status": {
                                                    "type": "string",
                                                    "example": "success"
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "example": "Usuario desbloqueado exitosamente"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        {
                                            "properties": {
                                                "status": {
                                                    "type": "string",
                                                    "example": "warning"
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "example": "Este usuario no está bloqueado"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/following": {
            "get": {
                "summary": "Ruta protegida",
                "description": "Recupera la relación `following` del usuario autenticado y la devuelve en formato JSON.",
                "operationId": "1b26c4389121593124db1dcdf199ce7d",
                "responses": {
                    "200": {
                        "description": "Respuesta exitosa con la lista de usuarios seguidos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "following": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Usuario Ejemplo"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/follow/check/{user_id}": {
            "get": {
                "summary": "Ruta protegida",
                "description": "Este endpoint permite verificar si el usuario autenticado ya está siguiendo a un usuario específico mediante su ID.",
                "operationId": "8fc5c99546501084f154f078dcc607c8",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "path",
                        "description": "El ID del usuario a verificar si es seguido",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Respuesta exitosa indicando si sigue o no al usuario",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "follow": {
                                            "type": "boolean",
                                            "example": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/followers": {
            "get": {
                "summary": "Ruta protegida",
                "description": "Devuelve la lista de usuarios que siguen al usuario autenticado. Incluye información adicional sobre si el usuario autenticado sigue a cada seguidor (`follow`) y si ese seguidor también sigue al usuario autenticado (`isFollowed`).",
                "operationId": "601fee02706302a5bed98ee620f53c8d",
                "responses": {
                    "200": {
                        "description": "Lista de seguidores con estado de seguimiento mutuo",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "followers": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 3
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Juan Pérez"
                                                    },
                                                    "email": {
                                                        "type": "string",
                                                        "format": "email",
                                                        "example": "juan@example.com"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-10-01T12:34:56.000000Z"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-11-01T15:45:30.000000Z"
                                                    },
                                                    "follow": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "isFollowed": {
                                                        "type": "boolean",
                                                        "example": false
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/followers/list": {
            "post": {
                "tags": [
                    "Followers"
                ],
                "summary": "Obtener seguidores de un usuario",
                "description": "Valida que se proporcione el `user_id`. Opcionalmente puede recibir `me_id` para comprobar seguimiento mutuo.",
                "operationId": "getUserFollowers",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "user_id"
                                ],
                                "properties": {
                                    "user_id": {
                                        "description": "ID del usuario cuyos seguidores se quieren obtener",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "me_id": {
                                        "description": "ID del usuario autenticado (opcional)",
                                        "type": "integer",
                                        "example": 2
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Seguidores recuperados correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "followers": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Follower Name"
                                                    },
                                                    "follow": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "isFollowed": {
                                                        "type": "boolean",
                                                        "example": false
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Faltan campos requeridos o inválidos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Errors validation: The user id field is required."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/follow-requests/pending": {
            "get": {
                "summary": "Ruta protegida",
                "description": "Devuelve una lista de usuarios que han enviado solicitudes de seguimiento al usuario autenticado que aún no han sido aceptadas ni rechazadas.",
                "operationId": "276a62b996be4e5bf04843cad56b6ebf",
                "responses": {
                    "200": {
                        "description": "Lista de solicitudes pendientes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "pending_requests": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 7
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Carlos López"
                                                    },
                                                    "email": {
                                                        "type": "string",
                                                        "format": "email",
                                                        "example": "carlos@example.com"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-11-01T08:15:00.000000Z"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-11-05T10:20:00.000000Z"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/follow-requests/pending-sent": {
            "get": {
                "summary": "Ruta protegida",
                "description": "Devuelve una lista de solicitudes de seguimiento que el usuario autenticado ha enviado y que aún no han sido aceptadas ni rechazadas.",
                "operationId": "905ff56ec6d41e81ff1af0b55d84447f",
                "responses": {
                    "200": {
                        "description": "Lista de solicitudes enviadas pendientes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "pending_sent": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 12
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Lucía Fernández"
                                                    },
                                                    "email": {
                                                        "type": "string",
                                                        "format": "email",
                                                        "example": "lucia@example.com"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-11-04T10:15:00.000000Z"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-11-07T13:20:00.000000Z"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/blocked-users": {
            "get": {
                "summary": "Ruta protegida",
                "description": "Devuelve una lista de usuarios que han sido bloqueados por el usuario autenticado.",
                "operationId": "f9f23abb4b083c741135c7eb0c005358",
                "responses": {
                    "200": {
                        "description": "Lista de usuarios bloqueados",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "blocked_users": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 18
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Pedro Ramírez"
                                                    },
                                                    "email": {
                                                        "type": "string",
                                                        "format": "email",
                                                        "example": "pedro@example.com"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-10-15T11:00:00.000000Z"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-11-05T12:30:00.000000Z"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/support": {
            "post": {
                "tags": [
                    "Ayuda"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint permite a un usuario autenticado enviar una solicitud de ayuda o reportar una incidencia. Se requiere un asunto y un mensaje describiendo la situación.",
                "operationId": "sendSupportRequest",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "subject",
                                    "message"
                                ],
                                "properties": {
                                    "subject": {
                                        "type": "string",
                                        "example": "Problema con la publicación"
                                    },
                                    "message": {
                                        "type": "string",
                                        "example": "No puedo subir imágenes en la sección de publicaciones."
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Incidencia enviada correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Se envio la insidencia correctamente."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "properties": {
                                                "subject": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo subject es obligatorio."
                                                    }
                                                },
                                                "message": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo message es obligatorio."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Mensaje de error interno"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/blocked-users": {
            "get": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint devuelve una lista de los usuarios que el usuario autenticado ha bloqueado.",
                "operationId": "getBlockedUsers",
                "responses": {
                    "200": {
                        "description": "Usuarios bloqueados encontrados",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Se han encontrado los usuarios bloqueados."
                                        },
                                        "blockedUser": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "user_id": {
                                                        "type": "integer",
                                                        "example": 5
                                                    },
                                                    "blocked_user_id": {
                                                        "type": "integer",
                                                        "example": 7
                                                    },
                                                    "user": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 5
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Juan Pérez"
                                                            },
                                                            "student": {
                                                                "properties": {
                                                                    "user_id": {
                                                                        "type": "integer",
                                                                        "example": 5
                                                                    },
                                                                    "name": {
                                                                        "type": "string",
                                                                        "example": "Juan"
                                                                    },
                                                                    "photo_pic": {
                                                                        "type": "string",
                                                                        "example": "url"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "company": {
                                                                "type": "string",
                                                                "example": null,
                                                                "nullable": true
                                                            },
                                                            "institutions": {
                                                                "type": "string",
                                                                "example": null,
                                                                "nullable": true
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "blocked_user": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 7
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Pedro Gómez"
                                                            },
                                                            "student": {
                                                                "type": "string",
                                                                "example": null,
                                                                "nullable": true
                                                            },
                                                            "company": {
                                                                "properties": {
                                                                    "user_id": {
                                                                        "type": "integer",
                                                                        "example": 7
                                                                    },
                                                                    "name": {
                                                                        "type": "string",
                                                                        "example": "Empresa XYZ"
                                                                    },
                                                                    "logo": {
                                                                        "type": "string",
                                                                        "example": "url"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "institutions": {
                                                                "type": "string",
                                                                "example": null,
                                                                "nullable": true
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/institution": {
            "get": {
                "tags": [
                    "Institutions"
                ],
                "summary": "Obtiene todas las instituciones con su usuario relacionado",
                "description": "Devuelve un array JSON con cada institución y la información del usuario asociado.",
                "operationId": "getInstitutionsWithUser",
                "responses": {
                    "200": {
                        "description": "Listado de instituciones",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "id": {
                                                "type": "integer",
                                                "example": 1
                                            },
                                            "name": {
                                                "type": "string",
                                                "example": "Institución Ejemplo"
                                            },
                                            "logo": {
                                                "type": "string",
                                                "example": "logo.png"
                                            },
                                            "user": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 10
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Usuario Asociado"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/institutions": {
            "get": {
                "tags": [
                    "Institutions"
                ],
                "summary": "Obtener todas las instituciones",
                "operationId": "getAllInstitutions",
                "responses": {
                    "200": {
                        "description": "Lista de instituciones",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Institution"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/institution/create": {
            "post": {
                "tags": [
                    "Instituciones"
                ],
                "summary": "Ruta protegida",
                "description": "Valida y crea una nueva institución. Si el usuario está autenticado, se asocia la institución a dicho usuario. Genera un slug automáticamente si no se proporciona.",
                "operationId": "createInstitution",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Nombre Institución"
                                    },
                                    "slug": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "nombre-institucion"
                                    },
                                    "custom_url": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "institucion-personalizada"
                                    },
                                    "slogan": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Educando para el futuro"
                                    },
                                    "about": {
                                        "type": "string",
                                        "example": "Descripción completa de la institución"
                                    },
                                    "type": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Universidad"
                                    },
                                    "location": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Madrid, España"
                                    },
                                    "size": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Grande"
                                    },
                                    "sector": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Educación"
                                    },
                                    "founded_year": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "1985"
                                    },
                                    "languages": {
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "example": "Español"
                                        }
                                    },
                                    "specialties": {
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "example": "Ingeniería"
                                        }
                                    },
                                    "website": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "https://www.ejemplo.edu"
                                    },
                                    "phone": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "+34 123 456 789"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "maxLength": 255,
                                        "example": "info@ejemplo.edu"
                                    },
                                    "user_id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Institución creada exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Institution created successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Nombre Institución"
                                                },
                                                "slug": {
                                                    "type": "string",
                                                    "example": "nombre-institucion"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Fallo de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "properties": {
                                                "name": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The name field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error creating institution"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/institution/update": {
            "post": {
                "tags": [
                    "Instituciones"
                ],
                "summary": "Ruta protegida",
                "description": "Permite al usuario autenticado actualizar una institución de su propiedad. Se pueden modificar datos básicos y archivos (logo y cover). Si se cambia el nombre, se genera un nuevo slug.",
                "operationId": "updateInstitution",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "id"
                                ],
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "name": {
                                        "type": "string",
                                        "example": "Nueva Institución"
                                    },
                                    "slogan": {
                                        "type": "string",
                                        "example": "Innovando la educación"
                                    },
                                    "about": {
                                        "type": "string",
                                        "example": "Somos una institución dedicada a la excelencia académica."
                                    },
                                    "type": {
                                        "type": "string",
                                        "example": "Universidad"
                                    },
                                    "location": {
                                        "type": "string",
                                        "example": "Barcelona, España"
                                    },
                                    "size": {
                                        "type": "string",
                                        "example": "Grande"
                                    },
                                    "founded_year": {
                                        "type": "string",
                                        "example": "1990"
                                    },
                                    "languages[]": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "example": [
                                            "Español",
                                            "Inglés"
                                        ]
                                    },
                                    "specialties[]": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "example": [
                                            "Ciencias",
                                            "Ingeniería"
                                        ]
                                    },
                                    "website": {
                                        "type": "string",
                                        "example": "https://www.nueva.edu"
                                    },
                                    "phone": {
                                        "type": "string",
                                        "example": "+34 600 123 456"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "contacto@nueva.edu"
                                    },
                                    "logo": {
                                        "description": "Archivo para logo",
                                        "type": "file"
                                    },
                                    "cover": {
                                        "description": "Archivo para foto de portada",
                                        "type": "file"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Institución actualizada correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Institution updated successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Nueva Institución"
                                                },
                                                "slug": {
                                                    "type": "string",
                                                    "example": "nueva-institucion"
                                                },
                                                "logo": {
                                                    "type": "string",
                                                    "example": "institutions/logo_1.png"
                                                },
                                                "cover": {
                                                    "type": "string",
                                                    "example": "institutions/cover_1.png"
                                                },
                                                "logo_url": {
                                                    "type": "string",
                                                    "example": "https://tuapp.com/storage/institutions/logo_1.png"
                                                },
                                                "cover_url": {
                                                    "type": "string",
                                                    "example": "https://tuapp.com/storage/institutions/cover_1.png"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthorized"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "No autorizado para modificar la institución",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthorized to update this institution"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Fallo de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "properties": {
                                                "name": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The name has already been taken."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error en el servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error updating institution: [mensaje del error]"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/institutions/{id}": {
            "get": {
                "tags": [
                    "Institutions"
                ],
                "summary": "Ruta protegida",
                "description": "Devuelve la información detallada de una institución identificada por su ID, incluyendo los datos del usuario asociado, logo y portada.",
                "operationId": "getInstitutionById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID de la institución",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Institución encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Institución Ejemplo"
                                                },
                                                "slug": {
                                                    "type": "string",
                                                    "example": "institucion-ejemplo"
                                                },
                                                "logo": {
                                                    "type": "string",
                                                    "example": "logos/logo.png"
                                                },
                                                "cover": {
                                                    "type": "string",
                                                    "example": "covers/cover.png"
                                                },
                                                "logo_url": {
                                                    "type": "string",
                                                    "example": "https://tuapp.com/storage/logos/logo.png"
                                                },
                                                "cover_url": {
                                                    "type": "string",
                                                    "example": "https://tuapp.com/storage/covers/cover.png"
                                                },
                                                "user": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 10
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Usuario Asociado"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Institución no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Institution not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/institutions/{slug}": {
            "get": {
                "tags": [
                    "Institutions"
                ],
                "summary": "Obtiene los datos de una institución por su slug",
                "description": "Retorna la información detallada de una institución incluyendo su usuario asociado, logo y cover.",
                "operationId": "getInstitutionBySlug",
                "parameters": [
                    {
                        "name": "slug",
                        "in": "path",
                        "description": "El slug único de la institución",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "institucion-ejemplo"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Institución encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Institución Ejemplo"
                                                },
                                                "slug": {
                                                    "type": "string",
                                                    "example": "institucion-ejemplo"
                                                },
                                                "logo": {
                                                    "type": "string",
                                                    "example": "logos/logo.png"
                                                },
                                                "cover": {
                                                    "type": "string",
                                                    "example": "covers/cover.png"
                                                },
                                                "logo_url": {
                                                    "type": "string",
                                                    "example": "https://tuapp.com/storage/logos/logo.png"
                                                },
                                                "cover_url": {
                                                    "type": "string",
                                                    "example": "https://tuapp.com/storage/covers/cover.png"
                                                },
                                                "user": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 10
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Usuario Asociado"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Institución no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Institution not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/institutions/url/{customUrl}": {
            "get": {
                "tags": [
                    "Institutions"
                ],
                "summary": "Obtiene los datos de una institución por su slug o URL personalizada",
                "description": "Devuelve la información detallada de una institución identificada por su slug o custom_url, incluyendo datos del usuario asociado, logo y cover.",
                "operationId": "getInstitutionBySlugOrCustomUrl",
                "parameters": [
                    {
                        "name": "customUrl",
                        "in": "path",
                        "description": "Slug o URL personalizada de la institución",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "institucion-custom"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Institución encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Institución Ejemplo"
                                                },
                                                "slug": {
                                                    "type": "string",
                                                    "example": "institucion-ejemplo"
                                                },
                                                "custom_url": {
                                                    "type": "string",
                                                    "example": "institucion-custom"
                                                },
                                                "logo": {
                                                    "type": "string",
                                                    "example": "logos/logo.png"
                                                },
                                                "cover": {
                                                    "type": "string",
                                                    "example": "covers/cover.png"
                                                },
                                                "logo_url": {
                                                    "type": "string",
                                                    "example": "https://tuapp.com/storage/logos/logo.png"
                                                },
                                                "cover_url": {
                                                    "type": "string",
                                                    "example": "https://tuapp.com/storage/covers/cover.png"
                                                },
                                                "user": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 10
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Usuario Asociado"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Institución no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Institution not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/institution/check-owner": {
            "post": {
                "tags": [
                    "Instituciones"
                ],
                "summary": "Ruta protegida",
                "description": "Valida que los IDs del usuario e institución existan en la base de datos y determina si el usuario es el dueño de la institución.",
                "operationId": "checkInstitutionOwner",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "user_id",
                                    "institution_id"
                                ],
                                "properties": {
                                    "user_id": {
                                        "type": "integer",
                                        "example": 3
                                    },
                                    "institution_id": {
                                        "type": "integer",
                                        "example": 12
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Indica si el usuario es propietario de la institución",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "isOwner": {
                                            "type": "boolean",
                                            "example": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Fallo de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "properties": {
                                                "user_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The selected user id is invalid."
                                                    }
                                                },
                                                "institution_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The selected institution id is invalid."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno al verificar propiedad",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error checking institution ownership"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/publications/{post}/like-toggle": {
            "post": {
                "tags": [
                    "Likes"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint permite al usuario autenticado dar 'me gusta' o quitar el 'me gusta' de una publicación. Si el usuario ya dio like, lo quita; si no, lo agrega.",
                "operationId": "toggleLike",
                "parameters": [
                    {
                        "name": "post",
                        "in": "path",
                        "description": "El ID de la publicación a la que se desea dar o quitar 'me gusta'",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 10
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Estado del like",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "liked": {
                                            "type": "boolean",
                                            "example": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/notifications": {
            "get": {
                "tags": [
                    "Notificaciones"
                ],
                "summary": "Ruta protegida",
                "description": "Devuelve un listado de notificaciones junto con la cantidad de notificaciones no leídas.",
                "operationId": "getUserNotifications",
                "responses": {
                    "200": {
                        "description": "Lista de notificaciones y conteo de no leídas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "notifications": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "example": "1"
                                                            },
                                                            "type": {
                                                                "type": "string",
                                                                "example": "App\\\\Notifications\\\\SomeNotification"
                                                            },
                                                            "data": {
                                                                "type": "object"
                                                            },
                                                            "read_at": {
                                                                "type": "string",
                                                                "example": null,
                                                                "nullable": true
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "2025-05-22T10:00:00Z"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "unread_count": {
                                                    "type": "integer",
                                                    "example": 3
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/notifications/unread": {
            "get": {
                "tags": [
                    "Notificaciones"
                ],
                "summary": "Ruta protegida",
                "description": "Devuelve un listado de notificaciones que aún no han sido leídas junto con la cantidad total de estas.",
                "operationId": "getUnreadNotifications",
                "responses": {
                    "200": {
                        "description": "Lista de notificaciones no leídas y su conteo",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "notifications": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "example": "5"
                                                            },
                                                            "type": {
                                                                "type": "string",
                                                                "example": "App\\\\Notifications\\\\SomeNotification"
                                                            },
                                                            "data": {
                                                                "type": "object"
                                                            },
                                                            "read_at": {
                                                                "type": "string",
                                                                "example": null,
                                                                "nullable": true
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "2025-05-22T12:00:00Z"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "unread_count": {
                                                    "type": "integer",
                                                    "example": 5
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/notifications/{notification}/read": {
            "post": {
                "tags": [
                    "Notificaciones"
                ],
                "summary": "Ruta protegida",
                "description": "Marca como leída una notificación específica siempre que pertenezca al usuario autenticado.",
                "operationId": "markNotificationAsRead",
                "parameters": [
                    {
                        "name": "notification",
                        "in": "path",
                        "description": "El ID de la notificación a marcar como leída",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "5"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Notificación marcada como leída",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Notificación marcada como leída"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "No autorizado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No autorizado"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/notifications/mark-all-as-read": {
            "post": {
                "tags": [
                    "Notificaciones"
                ],
                "summary": "Ruta protegida",
                "description": "Marca como leídas todas las notificaciones pendientes del usuario autenticado.",
                "operationId": "markAllNotificationsAsRead",
                "responses": {
                    "200": {
                        "description": "Notificaciones marcadas como leídas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "5 notificaciones marcadas como leídas"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/offers/{id}": {
            "get": {
                "tags": [
                    "Offers"
                ],
                "summary": "Ruta protegida",
                "description": "Recupera una oferta específica per ID, incloent la seva empresa i usuaris interessats amb les seves dades.",
                "operationId": "showOffer",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID de l'oferta",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Oferta trobada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "offer": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "title": {
                                                    "type": "string",
                                                    "example": "Desenvolupador PHP"
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Oferta de treball..."
                                                },
                                                "company": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 5
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Empresa XYZ"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "usersInterested": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 10
                                                            },
                                                            "student": {
                                                                "properties": {
                                                                    "id": {
                                                                        "type": "integer",
                                                                        "example": 20
                                                                    },
                                                                    "name": {
                                                                        "type": "string",
                                                                        "example": "Joan"
                                                                    },
                                                                    "skills": {
                                                                        "type": "array",
                                                                        "items": {
                                                                            "type": "object"
                                                                        }
                                                                    },
                                                                    "education": {
                                                                        "type": "array",
                                                                        "items": {
                                                                            "type": "object"
                                                                        }
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Oferta no trobada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No query results for model [App\\\\Models\\\\Offer] 999"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/offers": {
            "post": {
                "tags": [
                    "Offers"
                ],
                "summary": "Ruta protegida",
                "description": "Valida els camps obligatoris i crea una oferta laboral associada a la companyia de l'usuari autenticat.",
                "operationId": "createOffer",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "title",
                                    "skills",
                                    "description",
                                    "location_type",
                                    "address",
                                    "lat",
                                    "lng",
                                    "city",
                                    "postal_code",
                                    "schedule_type",
                                    "days_per_week",
                                    "salary",
                                    "vacancies"
                                ],
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "example": "Desenvolupador PHP"
                                    },
                                    "skills": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "example": [
                                            "PHP",
                                            "Laravel",
                                            "MySQL"
                                        ]
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Descripció de l'oferta..."
                                    },
                                    "location_type": {
                                        "type": "string",
                                        "example": "remote"
                                    },
                                    "address": {
                                        "type": "string",
                                        "example": "Carrer Falsa 123"
                                    },
                                    "lat": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 41.3879
                                    },
                                    "lng": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 2.16992
                                    },
                                    "city": {
                                        "type": "string",
                                        "example": "Barcelona"
                                    },
                                    "postal_code": {
                                        "type": "string",
                                        "example": "08001"
                                    },
                                    "schedule_type": {
                                        "type": "string",
                                        "example": "full-time"
                                    },
                                    "days_per_week": {
                                        "type": "integer",
                                        "example": 5
                                    },
                                    "salary": {
                                        "type": "string",
                                        "example": "2000€"
                                    },
                                    "vacancies": {
                                        "type": "integer",
                                        "example": 2
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Oferta creada correctament",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Oferta registrada correctamente"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "uuid": {
                                                    "type": "string",
                                                    "example": "a1b2c3d4..."
                                                },
                                                "company_id": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "title": {
                                                    "type": "string",
                                                    "example": "Desenvolupador PHP"
                                                },
                                                "skills": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "PHP",
                                                        "Laravel"
                                                    ]
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "..."
                                                },
                                                "location_type": {
                                                    "type": "string",
                                                    "example": "remote"
                                                },
                                                "address": {
                                                    "type": "string",
                                                    "example": "Carrer Falsa 123"
                                                },
                                                "lat": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 41.3879
                                                },
                                                "lng": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 2.16992
                                                },
                                                "city": {
                                                    "type": "string",
                                                    "example": "Barcelona"
                                                },
                                                "postal_code": {
                                                    "type": "string",
                                                    "example": "08001"
                                                },
                                                "schedule_type": {
                                                    "type": "string",
                                                    "example": "full-time"
                                                },
                                                "days_per_week": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "salary": {
                                                    "type": "string",
                                                    "example": "2000€"
                                                },
                                                "vacancies": {
                                                    "type": "integer",
                                                    "example": 2
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "example": "2025-05-22T10:00:00Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "example": "2025-05-22T10:00:00Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validació",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Faltan campos obligatorios o tienen errores"
                                        },
                                        "errors": {
                                            "properties": {
                                                "title": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo titulo es obligatorio"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error intern del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Mensaje de error del servidor"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/apply-offer": {
            "post": {
                "tags": [
                    "Offers"
                ],
                "summary": "Ruta protegida",
                "description": "Permet a un usuari aplicar-se a una oferta laboral, amb possibilitat d’adjuntar CV i carta de presentació.",
                "operationId": "applyToOffer",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "offer_id",
                                    "user_id"
                                ],
                                "properties": {
                                    "offer_id": {
                                        "type": "integer",
                                        "example": 5
                                    },
                                    "user_id": {
                                        "type": "integer",
                                        "example": 23
                                    },
                                    "availability": {
                                        "type": "string",
                                        "example": "Immediatament disponible"
                                    },
                                    "cv_attachment": {
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "cover_letter_attachment": {
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Aplicació registrada correctament",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Oferta registrada correctamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validació",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Faltan campos obligatorios o tienen errores"
                                        },
                                        "errors": {
                                            "properties": {
                                                "offer_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo oferta es obligatorio"
                                                    }
                                                },
                                                "user_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo usuario es obligatorio"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error intern del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Mensaje de error del servidor"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/offers/update-candidature-status": {
            "put": {
                "tags": [
                    "Offers"
                ],
                "summary": "Ruta protegida",
                "description": "Actualitza l'estat de la candidatura d'un usuari a una oferta. Si l'estat és 'accept', es verifica si s'ha arribat al nombre màxim de vacants i s'actualitzen les candidatures pendents i l'estat de l'oferta.",
                "operationId": "updateCandidatureStatus",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "offer_id",
                                    "user_id",
                                    "status"
                                ],
                                "properties": {
                                    "offer_id": {
                                        "type": "integer",
                                        "example": 10
                                    },
                                    "user_id": {
                                        "type": "integer",
                                        "example": 25
                                    },
                                    "status": {
                                        "type": "string",
                                        "example": "accept"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Estat de la candidatura actualitzat correctament",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Oferta actualizada correctamente"
                                        },
                                        "offer": {
                                            "description": "Dades detallades de l'oferta actualitzada amb relacions carregades",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validació",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Faltan campos obligatorios o tienen errores"
                                        },
                                        "errors": {
                                            "properties": {
                                                "offer_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo oferta es obligatorio"
                                                    }
                                                },
                                                "user_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo usuario es obligatorio"
                                                    }
                                                },
                                                "status": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo status es obligatorio"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error intern del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Mensaje de error del servidor"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/offers/{offer_id}/has-applied": {
            "get": {
                "tags": [
                    "Offers"
                ],
                "summary": "Ruta protegida",
                "description": "Retorna si l'usuari autenticat ja ha aplicat a una oferta específica identificada per offer_id.",
                "operationId": "checkUserHasAppliedToOffer",
                "parameters": [
                    {
                        "name": "offer_id",
                        "in": "path",
                        "description": "ID de l'oferta a comprovar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Resposta d'èxit amb el resultat del checkeo",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Se ha procesado el checkeo correctamente"
                                        },
                                        "userHasApplied": {
                                            "type": "boolean",
                                            "example": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Oferta no trobada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No query results for model [App\\\\Models\\\\Offer] 999"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error intern del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Mensaje de error del servidor"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/register/data": {
            "get": {
                "tags": [
                    "Registro"
                ],
                "summary": "Obtiene los sectores y países para la página de registro",
                "description": "Obtiene sectores desde la base de datos y países desde una API externa. Si la petición a la API externa falla, se devuelve un array vacío de países.",
                "operationId": "getSectorsAndCountries",
                "responses": {
                    "200": {
                        "description": "Datos cargados correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "sectors": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Tecnología"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "countries": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "name": {
                                                        "properties": {
                                                            "common": {
                                                                "type": "string",
                                                                "example": "Spain"
                                                            },
                                                            "official": {
                                                                "type": "string",
                                                                "example": "Kingdom of Spain"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "cca2": {
                                                        "type": "string",
                                                        "example": "ES"
                                                    },
                                                    "region": {
                                                        "type": "string",
                                                        "example": "Europe"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al obtener los datos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "An error occurred while fetching data"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Detalles del error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ofertas/ultimas": {
            "get": {
                "tags": [
                    "Ofertas"
                ],
                "summary": "Obtiene las últimas ofertas de prácticas activas paginadas",
                "description": "Devuelve una paginación de 5 ofertas activas más recientes, incluyendo la empresa relacionada y los usuarios interesados.",
                "operationId": "getLatestInternshipOffers",
                "responses": {
                    "200": {
                        "description": "Ofertas obtenidas correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Se han enviado las ofertas correctamente"
                                        },
                                        "data": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 123
                                                            },
                                                            "title": {
                                                                "type": "string",
                                                                "example": "Práctica en Desarrollo Web"
                                                            },
                                                            "company": {
                                                                "properties": {
                                                                    "id": {
                                                                        "type": "integer",
                                                                        "example": 10
                                                                    },
                                                                    "name": {
                                                                        "type": "string",
                                                                        "example": "Empresa XYZ"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "users_interested": {
                                                                "type": "array",
                                                                "items": {
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "integer",
                                                                            "example": 1
                                                                        },
                                                                        "name": {
                                                                            "type": "string",
                                                                            "example": "Usuario 1"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "first_page_url": {
                                                    "type": "string",
                                                    "example": "https://example.com/api/ofertas/ultimas?page=1"
                                                },
                                                "last_page": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "last_page_url": {
                                                    "type": "string",
                                                    "example": "https://example.com/api/ofertas/ultimas?page=3"
                                                },
                                                "next_page_url": {
                                                    "type": "string",
                                                    "example": "https://example.com/api/ofertas/ultimas?page=2"
                                                },
                                                "prev_page_url": {
                                                    "type": "string",
                                                    "example": null,
                                                    "nullable": true
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "total": {
                                                    "type": "integer",
                                                    "example": 15
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al obtener los datos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "An error occurred while fetching data"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Detalles del error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ofertas/buscar": {
            "post": {
                "tags": [
                    "Ofertas"
                ],
                "summary": "Busca ofertas de prácticas filtradas por varios criterios",
                "description": "Filtra ofertas de prácticas por texto libre, ubicación, tipo de jornada, modalidad de ubicación y fecha de creación.",
                "operationId": "searchInternshipOffers",
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "searchQuery": {
                                        "type": "string",
                                        "example": "Desarrollo Web"
                                    },
                                    "locationQuery": {
                                        "properties": {
                                            "lat": {
                                                "type": "number",
                                                "format": "float",
                                                "example": 41.3851
                                            },
                                            "lng": {
                                                "type": "number",
                                                "format": "float",
                                                "example": 2.1734
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "scheduleTypeQuery": {
                                        "type": "string",
                                        "example": "Tiempo completo"
                                    },
                                    "locationTypeQuery": {
                                        "type": "string",
                                        "example": "remoto"
                                    },
                                    "dateQuery": {
                                        "type": "string",
                                        "enum": [
                                            "24",
                                            "week",
                                            "month",
                                            "any"
                                        ],
                                        "example": "week"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Ofertas filtradas correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ofertas filtradas correctamente"
                                        },
                                        "data": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 123
                                                            },
                                                            "title": {
                                                                "type": "string",
                                                                "example": "Práctica en Desarrollo Web"
                                                            },
                                                            "company": {
                                                                "properties": {
                                                                    "id": {
                                                                        "type": "integer",
                                                                        "example": 10
                                                                    },
                                                                    "name": {
                                                                        "type": "string",
                                                                        "example": "Empresa XYZ"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "users_interested": {
                                                                "type": "array",
                                                                "items": {
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "integer",
                                                                            "example": 1
                                                                        },
                                                                        "name": {
                                                                            "type": "string",
                                                                            "example": "Usuario 1"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "first_page_url": {
                                                    "type": "string",
                                                    "example": "https://example.com/api/ofertas/buscar?page=1"
                                                },
                                                "last_page": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "last_page_url": {
                                                    "type": "string",
                                                    "example": "https://example.com/api/ofertas/buscar?page=3"
                                                },
                                                "next_page_url": {
                                                    "type": "string",
                                                    "example": "https://example.com/api/ofertas/buscar?page=2"
                                                },
                                                "prev_page_url": {
                                                    "type": "string",
                                                    "example": null,
                                                    "nullable": true
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "total": {
                                                    "type": "integer",
                                                    "example": 15
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al obtener las ofertas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error fetching data"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Mensaje detallado del error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/empresa/perfil/opcions": {
            "get": {
                "tags": [
                    "Empresa"
                ],
                "summary": "Obtiene información de sectores y habilidades para el perfil de empresa",
                "description": "Devuelve todos los sectores y habilidades disponibles para configurar el perfil de una empresa.",
                "operationId": "getCompanyProfileOptions",
                "responses": {
                    "200": {
                        "description": "Datos obtenidos correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Se han enviado las ofertas correctamente"
                                        },
                                        "sectors": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Tecnología"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "skills": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "JavaScript"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al obtener datos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "An error occurred while fetching data"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Missatge detallat de l'error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/posts": {
            "get": {
                "tags": [
                    "Publicaciones"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint devuelve una lista de todas las publicaciones en orden descendente por fecha de creación. Cada publicación incluye sus relaciones con el usuario, comentarios y 'likes'.",
                "operationId": "getAllPublications",
                "responses": {
                    "200": {
                        "description": "Lista de publicaciones obtenida correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "id": {
                                                "type": "integer",
                                                "example": 1
                                            },
                                            "user_id": {
                                                "type": "integer",
                                                "example": 3
                                            },
                                            "content": {
                                                "type": "string",
                                                "example": "Este es el contenido de una publicación."
                                            },
                                            "created_at": {
                                                "type": "string",
                                                "format": "date-time",
                                                "example": "2025-05-22T13:45:00Z"
                                            },
                                            "updated_at": {
                                                "type": "string",
                                                "format": "date-time",
                                                "example": "2025-05-22T13:45:00Z"
                                            },
                                            "user": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 3
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Ana Pérez"
                                                    },
                                                    "email": {
                                                        "type": "string",
                                                        "example": "ana@example.com"
                                                    }
                                                },
                                                "type": "object"
                                            },
                                            "comments": {
                                                "type": "array",
                                                "items": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 10
                                                        },
                                                        "content": {
                                                            "type": "string",
                                                            "example": "Muy buena publicación."
                                                        },
                                                        "user": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "integer",
                                                                    "example": 4
                                                                },
                                                                "name": {
                                                                    "type": "string",
                                                                    "example": "Luis Torres"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "likes": {
                                                "type": "array",
                                                "items": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 7
                                                        },
                                                        "user_id": {
                                                            "type": "integer",
                                                            "example": 5
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/publications": {
            "get": {
                "tags": [
                    "Publications"
                ],
                "summary": "Obtiene todas las publicaciones y compartidas del usuario autenticado",
                "description": "Este endpoint recupera las publicaciones propias y compartidas del usuario autenticado, incluyendo sus relaciones.",
                "operationId": "getUserPublications33",
                "responses": {
                    "200": {
                        "description": "Publicaciones obtenidas correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 123
                                                            },
                                                            "content": {
                                                                "type": "string",
                                                                "example": "Texto de la publicación"
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "2025-05-22T12:34:56Z"
                                                            },
                                                            "user": {
                                                                "properties": {
                                                                    "id": {
                                                                        "type": "integer",
                                                                        "example": 1
                                                                    },
                                                                    "name": {
                                                                        "type": "string",
                                                                        "example": "Usuario Ejemplo"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "shared_by": {
                                                                "properties": {
                                                                    "id": {
                                                                        "type": "integer",
                                                                        "example": 2
                                                                    },
                                                                    "name": {
                                                                        "type": "string",
                                                                        "example": "Otro Usuario"
                                                                    }
                                                                },
                                                                "type": "object",
                                                                "nullable": true
                                                            },
                                                            "media": {
                                                                "type": "array",
                                                                "items": {
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "integer",
                                                                            "example": 10
                                                                        },
                                                                        "file_path": {
                                                                            "type": "string",
                                                                            "format": "url",
                                                                            "example": "https://example.com/media/imagen1.jpg"
                                                                        },
                                                                        "media_type": {
                                                                            "type": "string",
                                                                            "example": "image"
                                                                        },
                                                                        "display_order": {
                                                                            "type": "integer",
                                                                            "example": 1
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            },
                                                            "liked": {
                                                                "type": "boolean",
                                                                "example": true
                                                            },
                                                            "saved": {
                                                                "type": "boolean",
                                                                "example": false
                                                            },
                                                            "shared": {
                                                                "type": "boolean",
                                                                "example": false
                                                            },
                                                            "likes_count": {
                                                                "type": "integer",
                                                                "example": 5
                                                            },
                                                            "comments_count": {
                                                                "type": "integer",
                                                                "example": 2
                                                            },
                                                            "original_publication_id": {
                                                                "type": "integer",
                                                                "example": 789,
                                                                "nullable": true
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "total": {
                                                    "type": "integer",
                                                    "example": 2
                                                },
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 2
                                                },
                                                "last_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error retrieving publications"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Detalle del error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Publicaciones"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint permite a un usuario autenticado crear una nueva publicación con contenido de texto y, opcionalmente, una imagen.",
                "operationId": "createPublicationPost",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "content"
                                ],
                                "properties": {
                                    "content": {
                                        "description": "El contenido del post",
                                        "type": "string",
                                        "example": "Esta es una nueva publicación."
                                    },
                                    "image": {
                                        "description": "La imagen opcional que se desea subir (máximo 2MB)",
                                        "type": "string",
                                        "format": "binary",
                                        "example": "post.jpg"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Publicación creada exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 12
                                        },
                                        "user_id": {
                                            "type": "integer",
                                            "example": 3
                                        },
                                        "content": {
                                            "type": "string",
                                            "example": "Esta es una nueva publicación."
                                        },
                                        "image": {
                                            "type": "string",
                                            "example": "posts/post.jpg"
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "format": "date-time",
                                            "example": "2025-05-22T14:00:00Z"
                                        },
                                        "updated_at": {
                                            "type": "string",
                                            "format": "date-time",
                                            "example": "2025-05-22T14:00:00Z"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "content": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The content field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/publications/{post}": {
            "get": {
                "tags": [
                    "Publicaciones"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint devuelve los detalles de una publicación, incluyendo el usuario que la creó, los comentarios con sus respectivos usuarios y los likes.",
                "operationId": "getPublicationById",
                "parameters": [
                    {
                        "name": "post",
                        "in": "path",
                        "description": "El ID de la publicación",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalles de la publicación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 5
                                        },
                                        "user_id": {
                                            "type": "integer",
                                            "example": 2
                                        },
                                        "content": {
                                            "type": "string",
                                            "example": "Esta es una publicación de ejemplo."
                                        },
                                        "image": {
                                            "type": "string",
                                            "example": "posts/ejemplo.jpg"
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "format": "date-time",
                                            "example": "2025-05-22T14:10:00Z"
                                        },
                                        "updated_at": {
                                            "type": "string",
                                            "format": "date-time",
                                            "example": "2025-05-22T14:10:00Z"
                                        },
                                        "user": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 2
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Juan Pérez"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "juan@example.com"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "comments": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 7
                                                    },
                                                    "content": {
                                                        "type": "string",
                                                        "example": "Comentario de ejemplo."
                                                    },
                                                    "user": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 4
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Ana Gómez"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "likes": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 10
                                                    },
                                                    "user_id": {
                                                        "type": "integer",
                                                        "example": 3
                                                    },
                                                    "post_id": {
                                                        "type": "integer",
                                                        "example": 5
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/project/create": {
            "post": {
                "tags": [
                    "Projectes"
                ],
                "summary": "Ruta protegida",
                "description": "Inicia una transacció a la base de dades per assegurar la integritat. Si la creació falla, es fa rollback i es retorna un missatge d'advertència.",
                "operationId": "createProject",
                "requestBody": {
                    "description": "Camps requerits pel servei projectService",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "description"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Projecte Exemple"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Descripció del projecte"
                                    },
                                    "start_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-01-01"
                                    },
                                    "end_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-12-31"
                                    },
                                    "status": {
                                        "type": "string",
                                        "example": "active"
                                    },
                                    "owner_id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Projecte creat correctament",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Project created"
                                        },
                                        "project": {
                                            "description": "Objecte del projecte creat",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Creació fallida amb advertència",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "warning"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Project creation failed"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/project/update": {
            "put": {
                "tags": [
                    "Projectes"
                ],
                "summary": "Ruta protegida",
                "description": "Inicia una transacció a la base de dades per garantir la integritat. Si l'actualització falla, es fa rollback i es retorna un missatge d'advertència.",
                "operationId": "updateProject",
                "requestBody": {
                    "description": "Camps requerits pel servei projectService per a actualitzar un projecte",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "id",
                                    "name",
                                    "description"
                                ],
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "name": {
                                        "type": "string",
                                        "example": "Projecte Actualitzat"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Descripció actualitzada del projecte"
                                    },
                                    "start_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-01-01"
                                    },
                                    "end_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-12-31"
                                    },
                                    "status": {
                                        "type": "string",
                                        "example": "completed"
                                    },
                                    "owner_id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Projecte actualitzat correctament",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Project updated"
                                        },
                                        "project": {
                                            "description": "Objecte del projecte actualitzat",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error en l'actualització del projecte",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Descripció de l'error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/project/delete": {
            "delete": {
                "tags": [
                    "Projectes"
                ],
                "summary": "Ruta protegida",
                "description": "Esborra un projecte de la base de dades basant-se en l'ID proporcionat. Si falla, retorna un missatge d'advertència o error.",
                "operationId": "deleteProject",
                "requestBody": {
                    "description": "ID del projecte a eliminar",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "id"
                                ],
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Projecte eliminat correctament",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Project deleted"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "No s'ha pogut eliminar el projecte",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "warning"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Project delete failed"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/publications/{publicationId}/comments": {
            "get": {
                "tags": [
                    "Comments"
                ],
                "summary": "Obtiene los comentarios principales de una publicación",
                "description": "Obtiene los comentarios principales (sin padre) y sus respuestas anidadas de una publicación específica, si los comentarios están habilitados. Incluye información de usuario con roles (estudiante, empresa, institución).",
                "operationId": "getPublicationComments",
                "parameters": [
                    {
                        "name": "publicationId",
                        "in": "path",
                        "description": "ID de la publicación",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 123
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Comentarios obtenidos correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "publication_id": {
                                                        "type": "integer",
                                                        "example": 123
                                                    },
                                                    "user_id": {
                                                        "type": "integer",
                                                        "example": 10
                                                    },
                                                    "content": {
                                                        "type": "string",
                                                        "example": "Comentario principal"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-05-22T12:00:00Z"
                                                    },
                                                    "user": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 10
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Juan Pérez"
                                                            },
                                                            "rol": {
                                                                "type": "string",
                                                                "example": "student"
                                                            },
                                                            "student": {
                                                                "properties": {
                                                                    "user_id": {
                                                                        "type": "integer",
                                                                        "example": 10
                                                                    },
                                                                    "photo_pic": {
                                                                        "type": "string",
                                                                        "format": "url",
                                                                        "example": "https://example.com/photos/juan.jpg"
                                                                    },
                                                                    "name": {
                                                                        "type": "string",
                                                                        "example": "Juan Pérez"
                                                                    },
                                                                    "uuid": {
                                                                        "type": "string",
                                                                        "example": "uuid-student-123"
                                                                    }
                                                                },
                                                                "type": "object",
                                                                "nullable": true
                                                            },
                                                            "company": {
                                                                "type": "object",
                                                                "nullable": true
                                                            },
                                                            "institutions": {
                                                                "type": "object",
                                                                "nullable": true
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "replies": {
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "integer",
                                                                    "example": 2
                                                                },
                                                                "publication_id": {
                                                                    "type": "integer",
                                                                    "example": 123
                                                                },
                                                                "parent_comment_id": {
                                                                    "type": "integer",
                                                                    "example": 1
                                                                },
                                                                "user_id": {
                                                                    "type": "integer",
                                                                    "example": 11
                                                                },
                                                                "content": {
                                                                    "type": "string",
                                                                    "example": "Respuesta al comentario"
                                                                },
                                                                "created_at": {
                                                                    "type": "string",
                                                                    "format": "date-time",
                                                                    "example": "2025-05-22T12:30:00Z"
                                                                },
                                                                "user": {
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "integer",
                                                                            "example": 11
                                                                        },
                                                                        "name": {
                                                                            "type": "string",
                                                                            "example": "Empresa X"
                                                                        },
                                                                        "rol": {
                                                                            "type": "string",
                                                                            "example": "company"
                                                                        },
                                                                        "student": {
                                                                            "type": "object",
                                                                            "nullable": true
                                                                        },
                                                                        "company": {
                                                                            "properties": {
                                                                                "user_id": {
                                                                                    "type": "integer",
                                                                                    "example": 11
                                                                                },
                                                                                "logo": {
                                                                                    "type": "string",
                                                                                    "format": "url",
                                                                                    "example": "https://example.com/logos/companyx.png"
                                                                                },
                                                                                "name": {
                                                                                    "type": "string",
                                                                                    "example": "Empresa X"
                                                                                },
                                                                                "slug": {
                                                                                    "type": "string",
                                                                                    "example": "empresa-x"
                                                                                }
                                                                            },
                                                                            "type": "object",
                                                                            "nullable": true
                                                                        },
                                                                        "institutions": {
                                                                            "type": "object",
                                                                            "nullable": true
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "num_comment": {
                                            "type": "integer",
                                            "example": 5
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Comentarios deshabilitados para esta publicación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Comments are disabled for this publication"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Publicación no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Publication not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error retrieving comments"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Detalle del error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Comentarios"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint permite al usuario autenticado añadir un comentario o una respuesta a una publicación existente.",
                "operationId": "createCommentPubli",
                "parameters": [
                    {
                        "name": "publicationId",
                        "in": "path",
                        "description": "El ID de la publicación a la que se desea comentar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 7
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "content"
                                ],
                                "properties": {
                                    "content": {
                                        "type": "string",
                                        "example": "¡Gran publicación!"
                                    },
                                    "parent_comment_id": {
                                        "type": "integer",
                                        "example": 12,
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Comentario creado con éxito",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Comment created successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 25
                                                },
                                                "publication_id": {
                                                    "type": "integer",
                                                    "example": 7
                                                },
                                                "user_id": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "content": {
                                                    "type": "string",
                                                    "example": "¡Gran publicación!"
                                                },
                                                "parent_comment_id": {
                                                    "type": "integer",
                                                    "example": null,
                                                    "nullable": true
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2024-10-21T12:45:00Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2024-10-21T12:45:00Z"
                                                },
                                                "user": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 3
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Ana Martínez"
                                                        },
                                                        "rol": {
                                                            "type": "string",
                                                            "example": "student"
                                                        },
                                                        "student": {
                                                            "properties": {
                                                                "user_id": {
                                                                    "type": "integer",
                                                                    "example": 3
                                                                },
                                                                "photo_pic": {
                                                                    "type": "string",
                                                                    "format": "url",
                                                                    "example": "https://example.com/photos/ana.jpg"
                                                                },
                                                                "name": {
                                                                    "type": "string",
                                                                    "example": "Ana Martínez"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "replies": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Publicación no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Publication not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validación fallida",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "properties": {
                                                "content": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The content field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/publications/{publicationId}/comments/{commentId}": {
            "delete": {
                "tags": [
                    "Comentarios"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint permite al usuario autenticado eliminar uno de sus propios comentarios de una publicación, incluyendo sus respuestas anidadas si las hubiera.",
                "operationId": "deleteComment",
                "parameters": [
                    {
                        "name": "publicationId",
                        "in": "path",
                        "description": "El ID de la publicación a la que pertenece el comentario",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 7
                        }
                    },
                    {
                        "name": "commentId",
                        "in": "path",
                        "description": "El ID del comentario que se desea eliminar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 21
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Comentario eliminado con éxito",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Comment deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "No autorizado para eliminar el comentario",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthorized to delete this comment"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Comentario o publicación no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Comment or publication not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/publications": {
            "post": {
                "tags": [
                    "Publicaciones"
                ],
                "summary": "Ruta protegida",
                "description": "Permite al usuario autenticado crear una publicación de texto, con ubicación opcional, estado y archivos multimedia.",
                "operationId": "createPublication",
                "requestBody": {
                    "required": false,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "content": {
                                        "description": "Contenido textual de la publicación. Requerido si no se sube media.",
                                        "type": "string",
                                        "example": "Hoy fue un gran día en la playa."
                                    },
                                    "location": {
                                        "description": "Ubicación relacionada con la publicación.",
                                        "type": "string",
                                        "example": "Barcelona, España"
                                    },
                                    "comments_enabled": {
                                        "description": "Indica si los comentarios están habilitados.",
                                        "type": "boolean",
                                        "default": true,
                                        "example": true
                                    },
                                    "status": {
                                        "description": "Estado de la publicación. Valores permitidos: published, draft, archived.",
                                        "type": "string",
                                        "default": "published",
                                        "enum": [
                                            "published",
                                            "draft",
                                            "archived"
                                        ],
                                        "example": "published"
                                    },
                                    "media": {
                                        "description": "Archivos multimedia adjuntos (imágenes o videos). Máximo 50MB por archivo.",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Publicación creada exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Publication created successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "user_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "content": {
                                                    "type": "string",
                                                    "example": "Hoy fue un gran día en la playa."
                                                },
                                                "location": {
                                                    "type": "string",
                                                    "example": "Barcelona, España"
                                                },
                                                "comments_enabled": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "published"
                                                },
                                                "has_media": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-05-22T12:00:00.000000Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-05-22T12:00:00.000000Z"
                                                },
                                                "user": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Ana Ruiz"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "media": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 55
                                                            },
                                                            "file_path": {
                                                                "type": "string",
                                                                "format": "url",
                                                                "example": "https://miapp.com/storage/media/abc123.jpg"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "properties": {
                                                "media.0": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El archivo debe ser una imagen o video y no puede superar los 50MB"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error creating publication"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Mensaje de error interno"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/publications/detail": {
            "get": {
                "tags": [
                    "Publicaciones"
                ],
                "summary": "Ruta protegida",
                "description": "Obtiene una publicación específica junto con archivos multimedia, comentarios (y respuestas), likes y estado de guardado del usuario autenticado.",
                "operationId": "getPublicationDetail",
                "parameters": [
                    {
                        "name": "id",
                        "in": "query",
                        "description": "ID del usuario que solicita la publicación",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 3
                        }
                    },
                    {
                        "name": "id_publication",
                        "in": "query",
                        "description": "ID de la publicación que se desea mostrar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 15
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Publicación obtenida correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 15
                                                    },
                                                    "content": {
                                                        "type": "string",
                                                        "example": "Una caminata por la montaña"
                                                    },
                                                    "location": {
                                                        "type": "string",
                                                        "example": "Pirineos"
                                                    },
                                                    "liked": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "saved": {
                                                        "type": "boolean",
                                                        "example": false
                                                    },
                                                    "media": {
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "integer",
                                                                    "example": 102
                                                                },
                                                                "file_path": {
                                                                    "type": "string",
                                                                    "format": "url",
                                                                    "example": "https://miapp.com/storage/media/file123.jpg"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "likes": {
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "integer",
                                                                    "example": 1
                                                                },
                                                                "user": {
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "integer",
                                                                            "example": 3
                                                                        },
                                                                        "name": {
                                                                            "type": "string",
                                                                            "example": "Ana"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "comments": {
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "integer",
                                                                    "example": 22
                                                                },
                                                                "content": {
                                                                    "type": "string",
                                                                    "example": "¡Hermoso lugar!"
                                                                },
                                                                "user": {
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "integer",
                                                                            "example": 5
                                                                        },
                                                                        "name": {
                                                                            "type": "string",
                                                                            "example": "Carlos"
                                                                        },
                                                                        "rol": {
                                                                            "type": "string",
                                                                            "example": "usuario"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                },
                                                                "replies": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "properties": {
                                                                            "id": {
                                                                                "type": "integer",
                                                                                "example": 23
                                                                            },
                                                                            "content": {
                                                                                "type": "string",
                                                                                "example": "Totalmente de acuerdo"
                                                                            },
                                                                            "user": {
                                                                                "properties": {
                                                                                    "id": {
                                                                                        "type": "integer",
                                                                                        "example": 6
                                                                                    },
                                                                                    "name": {
                                                                                        "type": "string",
                                                                                        "example": "Laura"
                                                                                    },
                                                                                    "rol": {
                                                                                        "type": "string",
                                                                                        "example": "usuario"
                                                                                    }
                                                                                },
                                                                                "type": "object"
                                                                            }
                                                                        },
                                                                        "type": "object"
                                                                    }
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Publicación no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Publication not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno al obtener la publicación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error retrieving publication"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Mensaje de error interno"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/publications/{id}": {
            "put": {
                "tags": [
                    "Publicaciones"
                ],
                "summary": "Ruta protegida",
                "description": "Permite al usuario autenticado actualizar su propia publicación. Se pueden modificar contenido, ubicación, estado, comentarios habilitados y agregar nuevos archivos multimedia.",
                "operationId": "updatePublication",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID de la publicación que se desea actualizar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 12
                        }
                    }
                ],
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "content": {
                                        "type": "string",
                                        "example": "Actualizando mi día."
                                    },
                                    "location": {
                                        "type": "string",
                                        "example": "Madrid, España"
                                    },
                                    "comments_enabled": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "published",
                                            "draft",
                                            "archived"
                                        ],
                                        "example": "draft"
                                    },
                                    "media": {
                                        "type": "array",
                                        "items": {
                                            "description": "Archivos multimedia (jpeg, png, jpg, gif, mp4, mov, avi). Máx 50MB por archivo",
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Publicación actualizada correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Publication updated successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 12
                                                },
                                                "content": {
                                                    "type": "string",
                                                    "example": "Actualizando mi día."
                                                },
                                                "location": {
                                                    "type": "string",
                                                    "example": "Madrid, España"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "draft"
                                                },
                                                "comments_enabled": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "has_media": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "media": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 201
                                                            },
                                                            "file_path": {
                                                                "type": "string",
                                                                "format": "url",
                                                                "example": "https://miapp.com/storage/media/nuevoarchivo.jpg"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "No autorizado para actualizar esta publicación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthorized to update this publication"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Publicación no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Publication not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "properties": {
                                                "content": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The content must be a string."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno al actualizar la publicación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error updating publication"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Mensaje de error interno"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Publicaciones"
                ],
                "summary": "Ruta protegida",
                "description": "Permite al usuario autenticado eliminar una de sus publicaciones junto con archivos multimedia, comentarios y 'me gusta' asociados.",
                "operationId": "deletePublication",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID de la publicación a eliminar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Publicación eliminada correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Publication deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "No autorizado para eliminar esta publicación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthorized to delete this publication"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Publicación no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Publication not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno al eliminar la publicación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error deleting publication"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Mensaje de error interno"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/publications/user": {
            "get": {
                "tags": [
                    "Publicaciones"
                ],
                "summary": "Obtener publicaciones de un usuario",
                "description": "Este endpoint devuelve todas las publicaciones realizadas por un usuario específico, incluyendo sus medios, comentarios, likes y estado de guardado.",
                "operationId": "getUserPublications",
                "parameters": [
                    {
                        "name": "id",
                        "in": "query",
                        "description": "El ID del usuario del cual se quieren obtener las publicaciones",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 12
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de publicaciones obtenidas correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "content": {
                                                        "type": "string",
                                                        "example": "Mi primera publicación"
                                                    },
                                                    "liked": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "saved": {
                                                        "type": "boolean",
                                                        "example": false
                                                    },
                                                    "media": {
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "file_path": {
                                                                    "type": "string",
                                                                    "example": "https://example.com/storage/media/imagen.jpg"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "likes": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "object"
                                                        }
                                                    },
                                                    "comments": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "object"
                                                        }
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno al recuperar las publicaciones",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error retrieving your publications"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Mensaje de error interno"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/publications/liked": {
            "get": {
                "tags": [
                    "Publicaciones"
                ],
                "summary": "Ruta protegida",
                "description": "Devuelve una lista de publicaciones que el usuario autenticado ha marcado con 'me gusta'. Cada publicación incluye contenido multimedia y relaciones con usuarios que comentaron o dieron 'me gusta'.",
                "operationId": "getLikedPublications",
                "responses": {
                    "200": {
                        "description": "Lista de publicaciones con 'me gusta' del usuario",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "content": {
                                                        "type": "string",
                                                        "example": "Texto de la publicación"
                                                    },
                                                    "liked": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "media": {
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "file_path": {
                                                                    "type": "string",
                                                                    "example": "https://example.com/storage/media/archivo.jpg"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "comments": {
                                                        "description": "Comentarios asociados",
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "integer",
                                                                    "example": 10
                                                                },
                                                                "content": {
                                                                    "type": "string",
                                                                    "example": "Un comentario"
                                                                },
                                                                "user": {
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "integer",
                                                                            "example": 5
                                                                        },
                                                                        "name": {
                                                                            "type": "string",
                                                                            "example": "Juan Pérez"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "likes": {
                                                        "description": "Usuarios que dieron me gusta",
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "integer",
                                                                    "example": 3
                                                                },
                                                                "user_id": {
                                                                    "type": "integer",
                                                                    "example": 7
                                                                },
                                                                "user_name": {
                                                                    "type": "string",
                                                                    "example": "María López"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno al obtener publicaciones con 'me gusta'",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error recogiendo tus me gusta."
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Mensaje de error interno"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/publications/{publicationId}/toggle-like": {
            "patch": {
                "tags": [
                    "Publicaciones"
                ],
                "summary": "Ruta protegida",
                "description": "Permite al usuario autenticado dar o quitar 'me gusta' a una publicación. Si ya ha dado 'me gusta', lo quita; si no, lo agrega. También actualiza el contador de 'likes'.",
                "operationId": "toggleLikePublication",
                "parameters": [
                    {
                        "name": "publicationId",
                        "in": "path",
                        "description": "ID de la publicación",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Operación exitosa",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "oneOf": [
                                        {
                                            "properties": {
                                                "status": {
                                                    "type": "string",
                                                    "example": "success"
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "example": "Publication liked successfully"
                                                },
                                                "liked": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "likes_count": {
                                                    "type": "integer",
                                                    "example": 12
                                                }
                                            },
                                            "type": "object"
                                        },
                                        {
                                            "properties": {
                                                "status": {
                                                    "type": "string",
                                                    "example": "success"
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "example": "Publication unliked successfully"
                                                },
                                                "liked": {
                                                    "type": "boolean",
                                                    "example": false
                                                },
                                                "likes_count": {
                                                    "type": "integer",
                                                    "example": 11
                                                }
                                            },
                                            "type": "object"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Publicación no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Publication not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al alternar 'me gusta'",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error toggling like"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Mensaje del error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/publications/{publicationId}/toggle-save": {
            "post": {
                "tags": [
                    "Publications"
                ],
                "summary": "Ruta protegida",
                "description": "Si la publicación ya está guardada por el usuario, la elimina. Si no, crea un registro de guardado para la publicación y usuario.",
                "operationId": "toggleSavePublication",
                "parameters": [
                    {
                        "name": "publicationId",
                        "in": "path",
                        "description": "ID de la publicación a guardar o desguardar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 42
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Publicación guardada exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Publication saved successfully"
                                        },
                                        "saved": {
                                            "type": "boolean",
                                            "example": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Publicación no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Publication not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error en el servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error toggling save"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Mensaje detallado del error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/publications/saved": {
            "get": {
                "tags": [
                    "Publications"
                ],
                "summary": "Ruta protegida",
                "description": "Retorna una lista de publicaciones guardadas por el usuario, incluyendo datos del autor, medios, comentarios, likes y estado de like/guardado.",
                "operationId": "getSavedPublications",
                "responses": {
                    "200": {
                        "description": "Lista de publicaciones guardadas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "title": {
                                                        "type": "string",
                                                        "example": "Ejemplo de publicación"
                                                    },
                                                    "user": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 10
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Nombre Usuario"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "media": {
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "integer",
                                                                    "example": 100
                                                                },
                                                                "file_path": {
                                                                    "type": "string",
                                                                    "example": "https://example.com/storage/media1.jpg"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "comments": {
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "integer",
                                                                    "example": 500
                                                                },
                                                                "content": {
                                                                    "type": "string",
                                                                    "example": "Comentario"
                                                                },
                                                                "user": {
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "integer",
                                                                            "example": 20
                                                                        },
                                                                        "name": {
                                                                            "type": "string",
                                                                            "example": "Comentario Usuario"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "likes": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "object"
                                                        }
                                                    },
                                                    "liked": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "saved": {
                                                        "type": "boolean",
                                                        "example": true
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al recuperar publicaciones guardadas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error retrieving saved publications"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Mensaje detallado del error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/sectors": {
            "get": {
                "tags": [
                    "Sectors"
                ],
                "summary": "Obté tots els sectors disponibles",
                "description": "Recupera la llista de tots els sectors registrats al sistema.",
                "operationId": "getAllSectors",
                "responses": {
                    "200": {
                        "description": "Llista de sectors obtinguda correctament",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Tecnologia"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-01-01T12:00:00Z"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-01-01T12:00:00Z"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/publications/share": {
            "post": {
                "tags": [
                    "Publicaciones"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint permite a un usuario autenticado compartir una publicación existente con contenido opcional adicional.",
                "operationId": "sharePublication",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "original_publication_id"
                                ],
                                "properties": {
                                    "original_publication_id": {
                                        "type": "integer",
                                        "example": 15
                                    },
                                    "content": {
                                        "type": "string",
                                        "maxLength": 1000,
                                        "example": "Miren esta publicación, está genial."
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Publicación compartida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Publicación compartida exitosamente"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 12
                                                },
                                                "content": {
                                                    "type": "string",
                                                    "example": "Miren esta publicación, está genial."
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2024-10-01T12:34:56.000000Z"
                                                },
                                                "shared_by": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 5
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Carlos Ruiz"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "user": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 8
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Ana Torres"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "media": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 3
                                                            },
                                                            "file_path": {
                                                                "type": "string",
                                                                "example": "https://tuapp.com/storage/media/example.jpg"
                                                            },
                                                            "media_type": {
                                                                "type": "string",
                                                                "example": "image"
                                                            },
                                                            "display_order": {
                                                                "type": "integer",
                                                                "example": 1
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "has_media": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "location": {
                                                    "type": "string",
                                                    "example": "Madrid, España"
                                                },
                                                "likes_count": {
                                                    "type": "integer",
                                                    "example": 20
                                                },
                                                "comments_count": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "liked": {
                                                    "type": "boolean",
                                                    "example": false
                                                },
                                                "saved": {
                                                    "type": "boolean",
                                                    "example": false
                                                },
                                                "shared": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "original_publication_id": {
                                                    "type": "integer",
                                                    "example": 15
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "original_publication_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The original publication id field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al compartir la publicación"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Mensaje del error interno"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/publications/shared/{userId}": {
            "get": {
                "tags": [
                    "Publicaciones"
                ],
                "summary": "Obtener publicaciones compartidas por un usuario",
                "description": "Este endpoint devuelve las publicaciones que han sido compartidas por un usuario específico. Cada entrada incluye información de la publicación original, el usuario que la compartió y los medios relacionados.",
                "operationId": "getSharedPublicationsByUser",
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "description": "El ID del usuario del cual se desean obtener las publicaciones compartidas",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 15
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de publicaciones compartidas obtenida correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 3
                                                            },
                                                            "content": {
                                                                "type": "string",
                                                                "example": "Comentario del usuario que comparte"
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "2025-05-22T12:34:56Z"
                                                            },
                                                            "shared_by": {
                                                                "properties": {
                                                                    "id": {
                                                                        "type": "integer",
                                                                        "example": 15
                                                                    },
                                                                    "name": {
                                                                        "type": "string",
                                                                        "example": "Carlos López"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "user": {
                                                                "properties": {
                                                                    "id": {
                                                                        "type": "integer",
                                                                        "example": 8
                                                                    },
                                                                    "name": {
                                                                        "type": "string",
                                                                        "example": "Laura Sánchez"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "media": {
                                                                "type": "array",
                                                                "items": {
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "integer",
                                                                            "example": 21
                                                                        },
                                                                        "file_path": {
                                                                            "type": "string",
                                                                            "example": "https://example.com/storage/media/imagen.jpg"
                                                                        },
                                                                        "media_type": {
                                                                            "type": "string",
                                                                            "example": "image"
                                                                        },
                                                                        "display_order": {
                                                                            "type": "integer",
                                                                            "example": 1
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            },
                                                            "has_media": {
                                                                "type": "boolean",
                                                                "example": true
                                                            },
                                                            "location": {
                                                                "type": "string",
                                                                "example": "Barcelona"
                                                            },
                                                            "likes_count": {
                                                                "type": "integer",
                                                                "example": 12
                                                            },
                                                            "comments_count": {
                                                                "type": "integer",
                                                                "example": 5
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "last_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "total": {
                                                    "type": "integer",
                                                    "example": 1
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al obtener las publicaciones compartidas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al obtener las publicaciones compartidas"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Mensaje de error interno"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/publications/shared/{id}": {
            "delete": {
                "tags": [
                    "Publicaciones"
                ],
                "summary": "Ruta protegida",
                "description": "Este endpoint permite a un usuario autenticado eliminar una publicación que previamente haya compartido.",
                "operationId": "deleteSharedPublication",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "El ID de la publicación compartida a eliminar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 8
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Publicación compartida eliminada exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Publicación compartida eliminada exitosamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "No autorizado para eliminar la publicación compartida",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No tienes permiso para eliminar esta publicación compartida"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Publicación compartida no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No se pudo encontrar la publicación compartida"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno al eliminar la publicación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al eliminar la publicación compartida"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Mensaje del error interno"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/skills": {
            "get": {
                "tags": [
                    "Skills"
                ],
                "summary": "Obtiene todas las habilidades disponibles",
                "description": "Recupera una lista de todas las habilidades registradas en el sistema.",
                "operationId": "getAllSkills",
                "responses": {
                    "200": {
                        "description": "Lista de habilidades obtenida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "JavaScript"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al recuperar las habilidades",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error retrieving skills."
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Detalle del error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Skills"
                ],
                "summary": "Ruta protegida",
                "description": "Crea un nou registre de skill (habilitat) proporcionant el seu nom.",
                "operationId": "createSkill",
                "requestBody": {
                    "description": "Nom de la skill a crear",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "PHP"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Skill creada correctament",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "skill": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "PHP"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-05-22T10:00:00Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-05-22T10:00:00Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Dades no vàlides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "name": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The name field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error intern",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al crear una skill"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/skills/assign": {
            "post": {
                "tags": [
                    "Skills"
                ],
                "summary": "Ruta protegida",
                "description": "Assigna una skill ja existent a un estudiant específic.",
                "operationId": "assignSkillToStudent",
                "requestBody": {
                    "description": "Identificadors de l'estudiant i de la skill a assignar",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "student_id",
                                    "skills_id"
                                ],
                                "properties": {
                                    "student_id": {
                                        "type": "integer",
                                        "example": 123
                                    },
                                    "skills_id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Skill assignada correctament a l'estudiant",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "skill": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "PHP"
                                                },
                                                "assigned_to_student_id": {
                                                    "type": "integer",
                                                    "example": 123
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-05-22T10:00:00Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-05-22T10:00:00Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Dades no vàlides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "student_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The student id field is required."
                                                    }
                                                },
                                                "skills_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The skills id field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error intern",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al crear una skill"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/student/update": {
            "post": {
                "tags": [
                    "Estudiantes"
                ],
                "summary": "Ruta protegida",
                "description": "Actualiza datos del estudiante, habilidades, usuario y archivos opcionales llamando al servicio studentService.",
                "operationId": "updateStudent",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "student",
                                    "skills",
                                    "user"
                                ],
                                "properties": {
                                    "student": {
                                        "description": "Datos del estudiante",
                                        "required": [
                                            "id",
                                            "degree"
                                        ],
                                        "properties": {
                                            "id": {
                                                "type": "integer",
                                                "example": 1
                                            },
                                            "degree": {
                                                "type": "string",
                                                "example": "Ingeniería"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "skills": {
                                        "description": "Lista de habilidades del estudiante",
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "example": [
                                            "PHP",
                                            "Laravel"
                                        ]
                                    },
                                    "user": {
                                        "description": "Datos del usuario",
                                        "required": [
                                            "name",
                                            "email"
                                        ],
                                        "properties": {
                                            "name": {
                                                "type": "string",
                                                "example": "Juan"
                                            },
                                            "email": {
                                                "type": "string",
                                                "format": "email",
                                                "example": "juan@example.com"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "photo_pic": {
                                        "description": "Archivo de imagen para la foto del estudiante",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "cover_photo": {
                                        "description": "Archivo de imagen para la foto de portada",
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Datos actualizados correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "student": {
                                            "description": "Datos actualizados del estudiante",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "type": "object",
                                            "additionalProperties": {
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/student/{uuid}": {
            "get": {
                "tags": [
                    "Students"
                ],
                "summary": "Obtener información detallada de un estudiante por UUID",
                "description": "Recupera el estudiante junto con su información relacionada: usuario, educación (con institución), experiencia laboral, proyectos, habilidades, ofertas y número de seguidores.",
                "operationId": "getStudentByUuid",
                "parameters": [
                    {
                        "name": "uuid",
                        "in": "path",
                        "description": "UUID único del estudiante",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "xxxx-xxxx-xxxx-xxxx"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Información del estudiante obtenida correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "student": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "uuid": {
                                                    "type": "string",
                                                    "example": "xxxx-xxxx-xxxx-xxxx"
                                                },
                                                "user": {
                                                    "type": "object"
                                                },
                                                "education": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "experience": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "projects": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "skills": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Skill 1"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "followers": {
                                                    "type": "integer",
                                                    "example": 15
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "experience_grouped": {
                                            "type": "object",
                                            "additionalProperties": {}
                                        },
                                        "offerUser": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "offer": {
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Estudiante no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Student not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/student/education": {
            "post": {
                "tags": [
                    "Estudiantes"
                ],
                "summary": "Ruta protegida",
                "description": "Devuelve la información educativa del estudiante identificado por su UUID, incluyendo las instituciones relacionadas.",
                "operationId": "getStudentEducation",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "uuid"
                                ],
                                "properties": {
                                    "uuid": {
                                        "description": "UUID único del estudiante",
                                        "type": "string",
                                        "example": "123e4567-e89b-12d3-a456-426614174000"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Información educativa del estudiante obtenida correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "education": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Nombre del estudiante"
                                                },
                                                "education": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 10
                                                            },
                                                            "degree": {
                                                                "type": "string",
                                                                "example": "Título obtenido"
                                                            },
                                                            "institution": {
                                                                "properties": {
                                                                    "id": {
                                                                        "type": "integer",
                                                                        "example": 5
                                                                    },
                                                                    "name": {
                                                                        "type": "string",
                                                                        "example": "Nombre de la institución"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Estudiante no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Student not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/student/me": {
            "get": {
                "tags": [
                    "Estudiantes"
                ],
                "summary": "Ruta protegida",
                "description": "Devuelve la información del estudiante autenticado, incluyendo su información educativa.",
                "operationId": "getAuthenticatedStudent",
                "responses": {
                    "200": {
                        "description": "Datos del estudiante obtenidos correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "student": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "user_id": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "education": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 5
                                                            },
                                                            "degree": {
                                                                "type": "string",
                                                                "example": "Título de ejemplo"
                                                            },
                                                            "institution_id": {
                                                                "type": "integer",
                                                                "example": 2
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al obtener los datos del estudiante",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Mensaje de error detallado"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/education/create": {
            "post": {
                "tags": [
                    "Educación"
                ],
                "summary": "Ruta protegida",
                "description": "Valida los datos recibidos y utiliza una transacción para asegurar la integridad de la base de datos.",
                "operationId": "createStudentEducation",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "student_id",
                                    "start_date"
                                ],
                                "properties": {
                                    "student_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "courses_id": {
                                        "type": "integer",
                                        "example": 5,
                                        "nullable": true
                                    },
                                    "institution_id": {
                                        "type": "integer",
                                        "example": 2,
                                        "nullable": true
                                    },
                                    "institute": {
                                        "type": "string",
                                        "example": "Universidad Nacional",
                                        "nullable": true
                                    },
                                    "degree": {
                                        "type": "string",
                                        "example": "Ingeniería Informática",
                                        "nullable": true
                                    },
                                    "start_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2020-09-01"
                                    },
                                    "end_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-06-30",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Registro de educación creado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "education": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 12
                                                },
                                                "student_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "degree": {
                                                    "type": "string",
                                                    "example": "Ingeniería Informática"
                                                },
                                                "start_date": {
                                                    "type": "string",
                                                    "example": "2020-09-01"
                                                },
                                                "end_date": {
                                                    "type": "string",
                                                    "example": "2024-06-30"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Errores de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "properties": {
                                                "student_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo student_id es obligatorio."
                                                    }
                                                },
                                                "start_date": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo start_date es obligatorio."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno al crear el registro de educación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al crear la educacion del estudiante."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/education/update": {
            "put": {
                "tags": [
                    "Educación"
                ],
                "summary": "Ruta protegida",
                "description": "Valida los datos recibidos y utiliza una transacción para asegurar la integridad de la base de datos.",
                "operationId": "updateStudentEducation",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "id",
                                    "start_date",
                                    "end_date"
                                ],
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "example": 12
                                    },
                                    "courses_id": {
                                        "type": "integer",
                                        "example": 5,
                                        "nullable": true
                                    },
                                    "institution_id": {
                                        "type": "integer",
                                        "example": 2,
                                        "nullable": true
                                    },
                                    "institute": {
                                        "type": "string",
                                        "example": "Universidad Nacional",
                                        "nullable": true
                                    },
                                    "degree": {
                                        "type": "string",
                                        "example": "Ingeniería Informática",
                                        "nullable": true
                                    },
                                    "start_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2020-09-01"
                                    },
                                    "end_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-06-30"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Registro de educación actualizado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "education": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 12
                                                },
                                                "student_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "degree": {
                                                    "type": "string",
                                                    "example": "Ingeniería Informática"
                                                },
                                                "start_date": {
                                                    "type": "string",
                                                    "example": "2020-09-01"
                                                },
                                                "end_date": {
                                                    "type": "string",
                                                    "example": "2024-06-30"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Errores de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "properties": {
                                                "id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo id es obligatorio."
                                                    }
                                                },
                                                "start_date": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo start_date es obligatorio."
                                                    }
                                                },
                                                "end_date": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo end_date es obligatorio."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno al actualizar el registro de educación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al actualizar la educacion del estudiante."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/education/delete": {
            "delete": {
                "tags": [
                    "Educación"
                ],
                "summary": "Ruta protegida",
                "description": "Valida el ID recibido y utiliza una transacción para asegurar la integridad de la base de datos durante el proceso de eliminación.",
                "operationId": "deleteStudentEducation",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "id"
                                ],
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "example": 12
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Educación eliminada correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Educacion eliminada"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Errores de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "properties": {
                                                "id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo id es obligatorio."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno al eliminar el registro de educación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error al eliminar la educacion del estudiante."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/user/update": {
            "put": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Ruta protegida",
                "description": "Valida los campos recibidos y actualiza la información del usuario mediante el servicio UserService.",
                "operationId": "updateUser",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "id",
                                    "name",
                                    "surname",
                                    "birthday",
                                    "email"
                                ],
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "name": {
                                        "type": "string",
                                        "example": "Juan"
                                    },
                                    "surname": {
                                        "type": "string",
                                        "example": "Pérez"
                                    },
                                    "birthday": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "1990-01-01"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "juan.perez@example.com"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Datos del usuario actualizados correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "user": {
                                            "description": "Datos actualizados del usuario",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "type": "object",
                                            "example": {
                                                "email": [
                                                    "El correo electrónico ya está en uso."
                                                ]
                                            },
                                            "additionalProperties": {
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/user/deactivate": {
            "post": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Ruta protegida",
                "description": "Valida que se reciba el ID del usuario y utiliza el servicio UserService para desactivar al usuario.",
                "operationId": "deactivateUser",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "id"
                                ],
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuario desactivado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El usuario a sido dado de baja correctamente"
                                        },
                                        "user": {
                                            "description": "Datos del usuario desactivado",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "No se pudo dar de baja al usuario",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "warning"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El usuario no pudo ser dado de baja"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "type": "object",
                                            "example": {
                                                "id": [
                                                    "El ID del usuario es obligatorio."
                                                ]
                                            },
                                            "additionalProperties": {
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/user/activate": {
            "post": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Ruta protegida",
                "description": "Valida que se reciba el ID del usuario y utiliza el servicio UserService para activar al usuario.",
                "operationId": "activateUser",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "id"
                                ],
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuario activado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El usuario a sido dado de alta correctamente"
                                        },
                                        "user": {
                                            "description": "Datos del usuario activado",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "No se pudo activar al usuario",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "warning"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El usuario no pudo ser dado de baja"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "type": "object",
                                            "example": {
                                                "id": [
                                                    "El ID del usuario es obligatorio."
                                                ]
                                            },
                                            "additionalProperties": {
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/user/detail": {
            "post": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Ruta protegida",
                "description": "Valida que se reciba el ID del usuario y devuelve la información completa utilizando el servicio UserService.",
                "operationId": "getUserDetail",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "id"
                                ],
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuario encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "user": {
                                            "description": "Datos detallados del usuario",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Usuario no registrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "warning"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El usuario no se encuentra registrado"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "type": "object",
                                            "example": {
                                                "id": [
                                                    "El ID del usuario es obligatorio."
                                                ]
                                            },
                                            "additionalProperties": {
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/users": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "Obtener todos los usuarios",
                "description": "Recupera todos los usuarios usando el servicio de usuarios y los devuelve en formato JSON.",
                "operationId": "getAllUsers",
                "responses": {
                    "200": {
                        "description": "Usuarios obtenidos correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Usuarios obtenidos correctamente"
                                        },
                                        "users": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Nombre Usuario"
                                                    },
                                                    "email": {
                                                        "type": "string",
                                                        "example": "usuario@example.com"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/account/toggle-privacy": {
            "post": {
                "summary": "Ruta protegida",
                "description": "Permite al usuario autenticado cambiar el estado de privacidad de su cuenta. Si es pública, cambia a privada y viceversa.",
                "operationId": "359dd35a6677ce7ea9fbc42af3929f06",
                "responses": {
                    "200": {
                        "description": "Estado actualizado de la privacidad de la cuenta",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Tu cuenta ahora es privada"
                                        },
                                        "is_public_account": {
                                            "type": "boolean",
                                            "example": false
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/account/privacy-status": {
            "get": {
                "summary": "Ruta protegida",
                "description": "Devuelve si la cuenta del usuario autenticado es pública o privada.",
                "operationId": "dcaa46b623ae292b57205766d2dd06c1",
                "responses": {
                    "200": {
                        "description": "Estado de privacidad pública",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Tu cuenta es pública"
                                        },
                                        "is_public_account": {
                                            "type": "boolean",
                                            "example": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "202": {
                        "description": "Estado de privacidad privada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Tu cuenta es privada"
                                        },
                                        "is_public_account": {
                                            "type": "boolean",
                                            "example": false
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/profile": {
            "get": {
                "summary": "Ruta protegida",
                "description": "Devuelve el perfil del usuario autenticado, incluyendo relaciones como instituciones, empresa y estudiante si existen.",
                "operationId": "5317cba2c0579870e08edcabe3c8079e",
                "responses": {
                    "200": {
                        "description": "Perfil completo del usuario autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "profile": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Laura Gómez"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "laura@example.com"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2024-09-15T10:00:00.000000Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2024-11-01T12:00:00.000000Z"
                                                },
                                                "institutions": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 2
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Universidad Central"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "company": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 3
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "TechCorp"
                                                        }
                                                    },
                                                    "type": "object",
                                                    "nullable": true
                                                },
                                                "student": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 5
                                                        },
                                                        "major": {
                                                            "type": "string",
                                                            "example": "Ingeniería Informática"
                                                        }
                                                    },
                                                    "type": "object",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/user/update-password": {
            "post": {
                "summary": "Ruta protegida",
                "description": "Permite cambiar la contraseña proporcionando la actual, la nueva y su confirmación. Solo se actualiza si la actual es válida y las nuevas coinciden.",
                "operationId": "07c5ba16d89f2ac28925d001c79fb418",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "current_password",
                                    "new_password",
                                    "confirm_password"
                                ],
                                "properties": {
                                    "current_password": {
                                        "description": "La contraseña actual del usuario",
                                        "type": "string",
                                        "example": "actual123"
                                    },
                                    "new_password": {
                                        "description": "La nueva contraseña que se desea establecer",
                                        "type": "string",
                                        "example": "nuevaSegura456"
                                    },
                                    "confirm_password": {
                                        "description": "Confirmación de la nueva contraseña, debe coincidir con new_password",
                                        "type": "string",
                                        "example": "nuevaSegura456"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Contraseña actualizada correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Contraseña actualizada correctamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "errors": {
                                            "properties": {
                                                "current_password": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "La contraseña actual es requerida"
                                                    }
                                                },
                                                "new_password": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "La nueva contraseña es requerida"
                                                    }
                                                },
                                                "confirm_password": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "La confirmación de la nueva contraseña es requerida"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Las contraseñas no coinciden",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Las contraseñas no coinciden"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/user/update-email": {
            "post": {
                "summary": "Ruta protegida",
                "description": "Permite al usuario autenticado actualizar su dirección de correo electrónico.",
                "operationId": "996e3fade7c2498e130a5194942068da",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email"
                                ],
                                "properties": {
                                    "email": {
                                        "description": "El nuevo correo electrónico del usuario",
                                        "type": "string",
                                        "format": "email",
                                        "example": "nuevo@email.com"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Email editado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Email editado correctamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "errors": {
                                            "properties": {
                                                "email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El email es requerido"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "errors": {
                                            "type": "string",
                                            "example": "Error interno del servidor o mensaje de excepción"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        }
    },
    "components": {
        "schemas": {
            "Institution": {
                "required": [
                    "id",
                    "name"
                ],
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "name": {
                        "type": "string",
                        "example": "Instituto XYZ"
                    },
                    "address": {
                        "type": "string",
                        "example": "Calle Falsa 123"
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "example": "contacto@instituto.xyz"
                    }
                },
                "type": "object"
            }
        },
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            },
            "sanctum": {
                "type": "apiKey",
                "description": "Enter token in format (Bearer <token>)",
                "name": "Authorization",
                "in": "header"
            }
        }
    },
    "tags": [
        {
            "name": "ADMIN",
            "description": "ADMIN"
        },
        {
            "name": "Instituciones",
            "description": "Instituciones"
        },
        {
            "name": "Ofertas",
            "description": "Ofertas"
        },
        {
            "name": "Estudiantes",
            "description": "Estudiantes"
        },
        {
            "name": "Reportes",
            "description": "Reportes"
        },
        {
            "name": "Usuarios",
            "description": "Usuarios"
        },
        {
            "name": "Auth",
            "description": "Auth"
        },
        {
            "name": "Chats",
            "description": "Chats"
        },
        {
            "name": "Comentarios",
            "description": "Comentarios"
        },
        {
            "name": "Empresas",
            "description": "Empresas"
        },
        {
            "name": "Companies",
            "description": "Companies"
        },
        {
            "name": "Courses",
            "description": "Courses"
        },
        {
            "name": "Experiencia",
            "description": "Experiencia"
        },
        {
            "name": "Follows",
            "description": "Follows"
        },
        {
            "name": "Followers",
            "description": "Followers"
        },
        {
            "name": "Ayuda",
            "description": "Ayuda"
        },
        {
            "name": "Institutions",
            "description": "Institutions"
        },
        {
            "name": "Likes",
            "description": "Likes"
        },
        {
            "name": "Notificaciones",
            "description": "Notificaciones"
        },
        {
            "name": "Offers",
            "description": "Offers"
        },
        {
            "name": "Registro",
            "description": "Registro"
        },
        {
            "name": "Empresa",
            "description": "Empresa"
        },
        {
            "name": "Publicaciones",
            "description": "Publicaciones"
        },
        {
            "name": "Projectes",
            "description": "Projectes"
        },
        {
            "name": "Comments",
            "description": "Comments"
        },
        {
            "name": "Publications",
            "description": "Publications"
        },
        {
            "name": "Reports",
            "description": "Reports"
        },
        {
            "name": "Sectors",
            "description": "Sectors"
        },
        {
            "name": "Skills",
            "description": "Skills"
        },
        {
            "name": "Students",
            "description": "Students"
        },
        {
            "name": "Educación",
            "description": "Educación"
        },
        {
            "name": "Users",
            "description": "Users"
        }
    ],
    "security": [
        {
            "sanctum": []
        }
    ]
}